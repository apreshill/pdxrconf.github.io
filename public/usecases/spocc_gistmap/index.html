<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | Easily make an interactive map on the web from R</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>



    <article>
        <div class="container top-20">
            <div class="row centered">

                
                <div class="col-7 bottom-20 maintext">
                    <h1>Easily make an interactive map on the web from R</h1>
                    <br>
                    <h4><small style="color:grey">rOpenSci package: <a href="https://github.com/ropensci/spocc">spocc</a></small></h4>
                    <br><br>
                    <article>
                    

<p>R is great, but not so great for interactive stuff. Github recently
announced support for interactive maps based on geojson format data.
geojson is basically just JSON data with additional metadata for mapping
purposes. We have discussed this before on our blog when we talked about
<a href="http://ropensci.org/blog/2013/07/04/rbison-geoson/">making geojson based
maps</a> and about
<a href="http://ropensci.org/blog/2013/07/17/style-geojson/">styling geojson
maps</a>.</p>

<p>Here is a brief demo of a simple, but awesome, use case in which you
have a set of species and you want an interactive map. This is an easy
way to get there using our package spocc which gets GBIF occurrence data
from R.</p>

<h3 id="install-spocc-from-cran">Install spocc from CRAN</h3>

<pre><code class="language-r">install.packages(&quot;spocc&quot;)
</code></pre>

<h3 id="load-spocc">Load spocc</h3>

<pre><code class="language-r">library(&quot;spocc&quot;)
</code></pre>

<h3 id="define-a-species-list">Define a species list</h3>

<pre><code class="language-r">splist &lt;- c('Danaus plexippus','Accipiter striatus','Pinus contorta')
</code></pre>

<h3 id="search-for-occurrence-data-for-each-species-using-occ">Search for occurrence data for each species using <code>occ</code></h3>

<p>And fix names so that there is only one unique name string per taxon.</p>

<pre><code class="language-r">dat &lt;- occ(splist, from='gbif', gbifopts=list(hasCoordinate=TRUE))
dat &lt;- fixnames(dat, &quot;query&quot;)
</code></pre>

<h3 id="make-a-github-gist-from-r">Make a Github gist from R</h3>

<p>Simply use the <code>mapgist</code> function to send the geojson file to Github
gists, and you&rsquo;ve got an ineractive map on the interwebs.</p>

<pre><code class="language-r">mapgist(dat, color=c('#976AAE','#6B944D','#BD5945'), size=c('small','medium','large'))
</code></pre>

<p>And the gist function call tells you where to go find your map on your
github account. Done, that was easy, no? And we can even embed the map
here, like this:</p>

<script src="https://gist.github.com/sckott/6572814.js"></script>

                    </article>
                </div>

                </div>
            </div>
        </div>
    </article>


    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>



</body>
</html>
