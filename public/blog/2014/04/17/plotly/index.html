<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | Make your ggplots shareable, collaborative, and with D3</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-462421-6', 'auto');
ga('send', 'pageview');
</script>

</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>


<article>
    <div class="container">
        <div class="row">
            <div class="col-2 sidebar top-5">
                <ul class="autoSidebar"></ul>
            </div> 
        </div>
        <div class="row">
            <div class="col-offset-2 col-8 top-20">
                <h2 style="text-align: center;">Make your ggplots shareable, collaborative, and with D3</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-offset-2 col-8 top-10 bottom-5" style="font-size: 20px; text-align: center;">
                <p class="authors" style="text-align: center;">
                    
                        
                          <a href="https://plot.ly/company/team/" target="_blank"> Matt Sundquist </a>&nbsp;
                        
                    
                </p>
                <br>
                <div style="font-size: 20px; color: #2C3E50; margin-top: 15px;">April 17, 2014</div>
            </div>
            <div class="col-offset-2 col-8 top-2">

                

                

<p><em>Editor&rsquo;s note: This is a guest post by Matt Sundquist from <a href="https://plot.ly/">Plot.ly</a>.</em></p>

<p><em>You can access the source code for this post at <a href="https://gist.github.com/sckott/10991885">https://gist.github.com/sckott/10991885</a></em></p>

<p><br></p>

<p><a href="https://github.com/ropensci/plotly">Ggplotly</a> and <a href="https://plot.ly/api/r">Plotly&rsquo;s R API</a> let you make ggplot2 plots, add <code>py$ggplotly()</code>, and make your plots interactive, online, and drawn with D3. Let&rsquo;s make some.</p>

<h2 id="1-getting-started-and-examples">1. Getting Started and Examples</h2>

<p>Here is Fisher&rsquo;s iris data.</p>

<pre><code class="language-r">library(&quot;ggplot2&quot;)
ggiris &lt;- qplot(Petal.Width, Sepal.Length, data = iris, color = Species)
print(ggiris)
</code></pre>

<p><img src="/assets/blog-images/2014-04-17-plotly/unnamed-chunk-2.png" alt="" /></p>

<p>Let&rsquo;s make it in Plotly. Install:</p>

<pre><code class="language-r">install.packages(&quot;devtools&quot;)
library(&quot;devtools&quot;)
install_github(&quot;plotly&quot;, &quot;ropensci&quot;)
</code></pre>

<p>Load.</p>

<pre><code class="language-r">library(&quot;plotly&quot;)
</code></pre>

<pre><code>## Loading required package: RCurl
## Loading required package: bitops
## Loading required package: RJSONIO
</code></pre>

<p>Sign up <a href="https://plot.ly">online</a>, use our public keys below, or sign up like this:</p>

<pre><code class="language-r">signup(&quot;new_username&quot;, &quot;your_email@domain.com&quot;)
</code></pre>

<p>That should have responded with your new key. Use that to create a plotly interface object, or use ours:</p>

<pre><code class="language-r">py &lt;- plotly(&quot;RgraphingAPI&quot;, &quot;ektgzomjbx&quot;)
</code></pre>

<p>It just works.</p>

<pre><code class="language-r">py$ggplotly(ggiris)
</code></pre>

<iframe height="600" id="igraph" scrolling="no" seamless="seamless"
                src="https://plot.ly/~RgraphingAPI/554" width="600" frameBorder="0"></iframe>

<p>The call opens a browser tab. Or in an <code>.Rmd</code> document, the plot is embedded if you specify the <code>plotly=TRUE</code> chunk option (see <a href="https://gist.github.com/sckott/10991885">source</a>). If you&rsquo;re running this from the source, it makes all the graphs at once in your browser. Reaction my first time: here be dragons.</p>

<p>If you click the <em>data and graph</em> link in the embed, it takes you to Plotly&rsquo;s GUI, where you can edit the graph, see the data, and share your plot with collaborators.</p>

<p><br><br></p>

<h3 id="1-2-maps">1.2 Maps</h3>

<p>Next: Maps!</p>

<pre><code class="language-r">data(canada.cities, package=&quot;maps&quot;)
viz &lt;- ggplot(canada.cities, aes(long, lat)) +
  borders(regions=&quot;canada&quot;, name=&quot;borders&quot;) +
  coord_equal() +
  geom_point(aes(text=name, size=pop), colour=&quot;red&quot;, alpha=1/2, name=&quot;cities&quot;)
</code></pre>

<p>Call Plotly.</p>

<pre><code class="language-r">py$ggplotly(viz)
</code></pre>

<iframe height="600" id="igraph" scrolling="no" seamless="seamless"
                src="https://plot.ly/~RgraphingAPI/555" width="600" frameBorder="0"></iframe>

<p><br><br></p>

<h3 id="1-3-scatter">1.3 Scatter</h3>

<p>Want to make a scatter and add a <a href="http://docs.ggplot2.org/current/geom_smooth.html">smoothed conditional mean</a>? Here&rsquo;s how to do it in Plotly. For the rest of the plots, we&rsquo;ll just print the Plotly version to save space. You can hover on text to get data, or click and drag across a section to zoom in.</p>

<pre><code class="language-r">model &lt;- lm(mpg ~ wt + factor(cyl), data=mtcars)
grid &lt;- with(mtcars, expand.grid(
  wt = seq(min(wt), max(wt), length = 20),
  cyl = levels(factor(cyl))
))

grid$mpg &lt;- stats::predict(model, newdata=grid)

viz2 &lt;- qplot(wt, mpg, data=mtcars, colour=factor(cyl)) + geom_line(data=grid)
py$ggplotly(viz2)
</code></pre>

<iframe height="600" id="igraph" scrolling="no" seamless="seamless"
                src="https://plot.ly/~RgraphingAPI/556" width="600" frameBorder="0"></iframe>

<p><br><br></p>

<h3 id="1-4-lines">1.4 Lines</h3>

<p>Or, take <code>ggplotly</code> for a spin with the orange dataset:</p>

<pre><code class="language-r">orange &lt;- qplot(age, circumference, data = Orange, colour = Tree, geom = &quot;line&quot;)
py$ggplotly(orange)
</code></pre>

<iframe height="600" id="igraph" scrolling="no" seamless="seamless"
                src="https://plot.ly/~RgraphingAPI/557" width="600" frameBorder="0"></iframe>

<p><br><br></p>

<h3 id="1-5-alpha-blend">1.5 Alpha blend</h3>

<p>Or, make plots <a href="http://mandymejia.wordpress.com/2013/11/13/10-reasons-to-switch-to-ggplot-7/">beautiful</a>.</p>

<pre><code class="language-r">prettyPlot &lt;- ggplot(data=diamonds, aes(x=carat, y=price, colour=clarity))
prettyPlot &lt;- prettyPlot + geom_point(alpha = 1/10)
py$ggplotly(prettyPlot)
</code></pre>

<iframe height="600" id="igraph" scrolling="no" seamless="seamless"
                src="https://plot.ly/~RgraphingAPI/558" width="600" frameBorder="0"></iframe>

<p><br><br></p>

<h3 id="1-6-functions">1.6 Functions</h3>

<p>Want to <a href="http://stackoverflow.com/questions/1853703/plotting-functions-in-r">draw functions</a> with a <code>curve</code>?</p>

<pre><code class="language-r">eq &lt;- function(x) {x*x}
tmp &lt;- data.frame(x=1:50, y=eq(1:50))

# Make plot object
p &lt;- qplot(x, y, data=tmp, xlab=&quot;X-axis&quot;, ylab=&quot;Y-axis&quot;)
c &lt;- stat_function(fun=eq)

py$ggplotly(p + c)
</code></pre>

<iframe height="600" id="igraph" scrolling="no" seamless="seamless"
                src="https://plot.ly/~RgraphingAPI/559" width="600" frameBorder="0"></iframe>

<p><br><br></p>

<h2 id="2-a-github-for-data-and-graphs">2. A GitHub for data and graphs</h2>

<p>Like we might work together on code on GitHub or a project in a Google Doc, we can edit graphs and data together on Plotly. Here&rsquo;s how it works:</p>

<ul>
<li>Your URL is shareable.</li>
<li>Public use is free.</li>
<li>You can set <a href="http://plot.ly/api/r/docs/privacy">the privacy</a> of your graph.</li>
<li>You can edit and add to plots from our GUI or with R or <a href="https://plot.ly/api">APIs</a> for Python, MATLA, Julia, Perl, Arduino, Raspberry Pi, and REST.</li>
<li>You get a profile of graphs, like <a href="https://plot.ly/~RhettAllain/">Rhett Allain</a> from Wired Science.</li>
<li>You can <a href="http://plot.ly/api/r/docs/iframes">embed interactive graphs in iframes</a>.</li>
</ul>

<p><br><br></p>

<h3 id="2-1-inspiration-and-team">2.1 Inspiration and team</h3>

<p>Plotly&rsquo;s API is part of <code>rOpenSci</code> and being developed by the brilliant <a href="http://cbio.ensmp.fr/~thocking/">Toby Hocking</a> and Plotly&rsquo;s own <a href="https://github.com/chriddyp">Chris Parmer</a>. You can find it on <a href="https://github.com/ropensci/plotly">GitHub</a>. Your thoughts, issues, and pull requests are welcome. Right now, you can make scatter and line plots; let us know what you&rsquo;d like to see next.</p>

<p>The project was inspired by <a href="https://github.com/hadley/">Hadley Wickham</a> and the elegance and precision of <a href="http://ggplot2.org/"><code>ggplot2</code></a>. Thanks to <a href="http://scottchamberlain.info/">Scott Chamberlain</a>, <a href="https://github.com/jcheng5">Joe Cheng</a>, and <a href="https://twitter.com/efvmw">Elizabeth Morrison-Wells</a> for their help.</p>

<p><br><br></p>

<h2 id="3-ggthemes-and-plotly">3. ggthemes and Plotly</h2>

<p>Using <a href="https://github.com/jrnold/ggthemes"><code>ggthemes</code></a> opens up another set of custom graph filters for styling your graphs. To get started, you&rsquo;ll want to install <code>ggthemes</code>.</p>

<pre><code class="language-r">library(&quot;devtools&quot;)
install_github(&quot;ggthemes&quot;, &quot;jrnold&quot;)
</code></pre>

<p>and load your data.</p>

<pre><code class="language-r">library(&quot;ggplot2&quot;)
library(&quot;ggthemes&quot;)
dsamp &lt;- diamonds[sample(nrow(diamonds), 1000), ]
</code></pre>

<p><br><br>
Inverse gray.</p>

<pre><code class="language-r">gray &lt;- (qplot(carat, price, data = dsamp, colour = cut) +
           theme_igray())
py$ggplotly(gray)
</code></pre>

<iframe height="600" id="igraph" scrolling="no" seamless="seamless"
                src="https://plot.ly/~RgraphingAPI/560" width="600" frameBorder="0"></iframe>

<p><br><br>
The Tableau scale.</p>

<pre><code class="language-r">tableau &lt;- (qplot(carat, price, data = dsamp, colour = cut) +
              theme_igray() +
              scale_colour_tableau())
py$ggplotly(tableau)
</code></pre>

<iframe height="600" id="igraph" scrolling="no" seamless="seamless"
                src="https://plot.ly/~RgraphingAPI/561" width="600" frameBorder="0"></iframe>

<p><br><br>
<a href="http://www.perceptualedge.com/articles/visual_business_intelligence/rules_for_using_color.pdf">Stephen Few&rsquo;s</a> scale.</p>

<pre><code class="language-r">few &lt;- (qplot(carat, price, data = dsamp, colour = cut) +
          theme_few() +
          scale_colour_few())
py$ggplotly(few)
</code></pre>

<iframe height="600" id="igraph" scrolling="no" seamless="seamless"
                src="https://plot.ly/~RgraphingAPI/562" width="600" frameBorder="0"></iframe>

            </div>
            <br>
            <div class="col-offset-2 col-8 top-4 labels">
                
                    <a href="/tags/r"><span class="label">R</span></a>
                
                    <a href="/tags/api"><span class="label">API</span></a>
                
                    <a href="/tags/plotly"><span class="label">plotly</span></a>
                
                    <a href="/tags/ggplot2"><span class="label">ggplot2</span></a>
                
                    <a href="/tags/data"><span class="label">data</span></a>
                
                    <a href="/tags/maps"><span class="label">maps</span></a>
                
            </div>

            
            
            <div class="col-offset-2 col-8 top-4">
              <div id="disqus_thread"></div>
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                var disqus_shortname = 'ropenscience';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
            
        </div>
        <br>
    </div>
</article>





    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>



</body>
</html>



