<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | Changes in rnoaa v0.2.0</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-462421-6', 'auto');
ga('send', 'pageview');
</script>

</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>


<article>
    <div class="container">
        <div class="row">
            <div class="col-2 sidebar top-5">
                <ul class="autoSidebar"></ul>
            </div> 
        </div>
        <div class="row">
            <div class="col-offset-2 col-8 top-20">
                <h2 style="text-align: center;">Changes in rnoaa v0.2.0</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-offset-2 col-8 top-10 bottom-5" style="font-size: 20px; text-align: center;">
                <p class="authors" style="text-align: center;">
                    
                        
                          <a href="/about/#team"> Scott Chamberlain </a>&nbsp;
                        
                    
                </p>
                <br>
                <div style="font-size: 20px; color: #2C3E50; margin-top: 15px;">July 21, 2014</div>
            </div>
            <div class="col-offset-2 col-8 top-2">

                

                

<p>We just released <code>v0.2</code> of <code>rnoaa</code>. For details on the update, see the <a href="https://github.com/ropensci/rnoaa/releases/tag/v0.2.0">release notes</a>. What follows are some notes on the more important changes.</p>

<h2 id="updating-to-v0-2">Updating to v0.2</h2>

<p>Install <code>rnoaa</code> from CRAN</p>

<pre><code class="language-r">install.packages(&quot;rnoaa&quot;)
</code></pre>

<p>or Github</p>

<pre><code class="language-r">devtools::install_github(&quot;ropensci/rnoaa&quot;)
</code></pre>

<p>Then load <code>rnoaa</code></p>

<pre><code class="language-r">library(&quot;rnoaa&quot;)
</code></pre>

<h2 id="ui-changes">UI changes</h2>

<p>We changed almost all function names to have a more intuitive programmatic user interface (or <em>UI</em>).</p>

<ul>
<li>We changed all <code>noaa*()</code> functions to <code>ncdc*()</code> - these work only with NOAA National Climatic Data Center (NCDC) data, so the <code>ncdc</code> name makes sense.</li>
<li><code>noaa_seaice()</code> changed to <code>seaice()</code>, which works with NOAA sea ice data.</li>
<li><code>noaa_swdi()</code> changed to <code>swdi()</code>, which works with data from the Severe Weather Data Inventory.</li>
</ul>

<h2 id="two-new-data-sources">Two new data sources</h2>

<h3 id="erddap">ERDDAP</h3>

<p>We added new functions to interact with <a href="http://coastwatch.pfeg.noaa.gov/erddap/index.html">NOAA ERDDAP data</a>: <code>erddap_info()</code>, <code>erddap_data()</code>, and <code>erddap_search()</code>. As a quick example, let&rsquo;s search for data, get a dataset identifier, then get information on that dataset, then get the data.</p>

<p>Search for data</p>

<pre><code class="language-r">(out &lt;- erddap_search(query='fish size'))
</code></pre>

<pre><code>## 7 results, showing first 20
##                                         title          dataset_id
## 1                          CalCOFI Fish Sizes    erdCalCOFIfshsiz
## 2                        CalCOFI Larvae Sizes    erdCalCOFIlrvsiz
## 3                                CalCOFI Tows      erdCalCOFItows
## 4     GLOBEC NEP MOCNESS Plankton (MOC1) Data       erdGlobecMoc1
## 5 GLOBEC NEP Vertical Plankton Tow (VPT) Data        erdGlobecVpt
## 6         CalCOFI Larvae Counts Positive Tows erdCalCOFIlrvcntpos
## 7  OBIS - ARGOS Satellite Tracking of Animals           aadcArgos
</code></pre>

<p>Using a datasetid, search for information on a datasetid</p>

<pre><code class="language-r">(id &lt;- out$info$dataset_id[1])
</code></pre>

<pre><code>## [1] &quot;erdCalCOFIfshsiz&quot;
</code></pre>

<pre><code class="language-r">erddap_info(datasetid=id)$variables
</code></pre>

<pre><code>##           variable_name data_type           actual_range
## 1  calcofi_species_code       int               19, 1550
## 2           common_name    String
## 3                cruise    String
## 4           fish_1000m3     float
## 5            fish_count     float
## 6             fish_size     float
## 7              itis_tsn       int
## 8              latitude     float         32.515, 38.502
## 9                  line     float             46.6, 93.3
## 10            longitude     float        -128.5, -117.33
## 11         net_location    String
## 12             net_type    String
## 13       order_occupied       int
## 14       percent_sorted     float
## 15       sample_quality     float
## 16      scientific_name    String
## 17                 ship    String
## 18            ship_code    String
## 19 standard_haul_factor     float
## 20              station     float            28.0, 114.9
## 21                 time    double 9.94464E8, 9.9510582E8
## 22           tow_number       int                  2, 10
## 23             tow_type    String
## 24       volume_sampled     float
</code></pre>

<p>Get data from the dataset, sticking to three variables for brevity</p>

<pre><code class="language-r">dat &lt;- erddap_data(datasetid = id, fields = c('latitude','longitude','scientific_name'))
head(dat)
</code></pre>

<pre><code>##    latitude  longitude       scientific_name
## 2 35.038334 -120.88333 Microstomus pacificus
## 3  34.97167 -121.02333    Cyclothone signata
## 4  34.97167 -121.02333    Cyclothone signata
## 5  34.97167 -121.02333    Cyclothone signata
## 6  34.97167 -121.02333    Cyclothone signata
## 7  34.97167 -121.02333    Cyclothone signata
</code></pre>

<pre><code class="language-r">NROW(dat)
</code></pre>

<pre><code>## [1] 20939
</code></pre>

<h3 id="buoys">Buoys!</h3>

<p>We added functions to get data from the <a href="http://www.ndbc.noaa.gov/">NOAA data buoy center</a>. Keep in mind you have to install an external library to R called <code>netcdf</code>, and an R pacakge called <code>ncdf4</code>. See <a href="https://github.com/ropensci/rnoaa#important---buoy-data">the source package README</a> for more help. Install the <code>buoy</code> branch from Github:</p>

<pre><code class="language-r">devtools::install_github(&quot;rnoaa&quot;, &quot;ropensci&quot;, ref=&quot;buoy&quot;)
library('rnoaa')
</code></pre>

<pre><code class="language-r">(out &lt;- buoy(dataset = 'pwind', buoyid = 41021))
</code></pre>

<pre><code class="language-r">Available buoys in pwind:
41001 41002 41004 41006 41008 41009 41010 41012 41013 41021 41022 41023 41025 41035 41036 41040 41041 41043 41044 41046 41047 41048 41049 42001 42002 42003 42007 42012 42019 42020 42035 42036 42038 42039 42040 42041 42054 42055 42056 42057 42058 42059 42060 42065 42otp 44004 44005 44007 44008 44009 44011 44013 44014 44017 44018 44020 44025 44027 44028 44065 44066 45001 45002 45003 45004 45005 45006 45007 45008 45011 45012 46001 46002 46003 46005 46006 46011 46012 46013 46014 46015 46022 46023 46025 46026 46027 46028 46029 46030 46035 46041 46042 46044 46045 46047 46050 46051 46053 46054 46059 46060 46061 46062 46063 46066 46069 46070 46071 46072 46073 46075 46076 46077 46078 46079 46080 46081 46082 46083 46084 46085 46086 46087 46088 46089 46106 46270 51000 51001 51002 51003 51004 51028 51100 51101 alsn6 amaa2 amps2 amps3 amps4 auga2 blia2 burl1 buzm3 caro3 cdrf1 chlv2 clkn7 csbf1 dbln6 desw1 disw3 dpia1 drfa2 dryf1 dsln7 ducn7 fbis1 ffia2 fila2 fpsn7 fwyf1 gbcl1 gdil1 glln6 iosn3 ktnf1 lkwf1 lmbv4 lonf1 lscm4 mdrm1 mism1 mlrf1 mpcl1 mrka2 nwpo3 ostf1 pila2 pilm4 plsf1 pota2 ptac1 ptat2 ptgc1 roam4 sacv4 sanf1 sauf1 sbio1 sgnw3 sgof1 sisw1 smkf1 spgf1 srst2 stdm4 svls1 tplm2 ttiw1 venf1 verv4 wpow1
Available files for buoy 41021:
p1996.nc
</code></pre>

<pre><code class="language-r">Dimensions: [rows 4797, cols 3]
3 variables: [gust_dir, gust_spd, gust_time]

   gust_dir gust_spd gust_time
1       153      1.3 827105820
2        87      2.0 827106720
3        52      2.5 827110320
4        85      7.1 827113920
5       119      5.7 827117520
6        78      3.3 827121120
7       147     22.1 827124720
8       348      2.5 827128320
9        74      0.5 827134980
10       92      0.6 827137920
</code></pre>

<pre><code class="language-r">out$metadata[1]
</code></pre>

<pre><code class="language-r">$gust_dir
$gust_dir$name
[1] &quot;gust_dir&quot;

$gust_dir$prec
[1] &quot;int&quot;

$gust_dir$units
[1] &quot;degrees_true&quot;

$gust_dir$longname
[1] &quot;Gust Direction&quot;

$gust_dir$missval
[1] 999

$gust_dir$hasAddOffset
[1] FALSE

$gust_dir$hasScaleFact
[1] FALSE
</code></pre>

<pre><code class="language-r">head(out$data); tail(out$data)
</code></pre>

<pre><code class="language-r">  gust_dir gust_spd gust_time
1      153      1.3 827105820
2       87      2.0 827106720
3       52      2.5 827110320
4       85      7.1 827113920
5      119      5.7 827117520
6       78      3.3 827121120
     gust_dir gust_spd gust_time
4792       33     16.6 848164800
4793       21     15.6 848168340
4794       10     14.8 848172660
4795       19     15.9 848176140
4796       19     15.5 848177640
4797       25     14.4 848181420
</code></pre>

<h2 id="more-help">More help!</h2>

<p>We&rsquo;ve added new vignettes, including one for NCDC attributes, one for an example NCDC workflow, a Seaice vignette, an SWDI vignette, an ERDDAP vignette, and a vignette for NOAA buoy data. The buoy functions and vignette is only available on the Github <code>buoy</code> branch.</p>

            </div>
            <br>
            <div class="col-offset-2 col-8 top-4 labels">
                
                    <a href="/tags/r"><span class="label">R</span></a>
                
                    <a href="/tags/api"><span class="label">API</span></a>
                
            </div>

            
            
            <div class="col-offset-2 col-8 top-4">
              <div id="disqus_thread"></div>
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                var disqus_shortname = 'ropenscience';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
            
        </div>
        <br>
    </div>
</article>





    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>



</body>
</html>



