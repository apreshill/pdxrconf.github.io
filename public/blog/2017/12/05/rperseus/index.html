<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | Exploratory Data Analysis of Ancient Texts with rperseus</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-462421-6', 'auto');
ga('send', 'pageview');
</script>

</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>


<article>
    <div class="container">
        <div class="row">
            <div class="col-2 sidebar top-5">
                <ul class="autoSidebar"></ul>
            </div> 
        </div>
        <div class="row">
            <div class="col-offset-2 col-8 top-20">
                <h2 style="text-align: center;">Exploratory Data Analysis of Ancient Texts with rperseus</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-offset-2 col-8 top-10 bottom-5" style="font-size: 20px; text-align: center;">
                <p class="authors" style="text-align: center;">
                    
                        
                          <a href="https://github.com/daranzolin" target="_blank"> David Ranzolin </a>&nbsp;
                        
                    
                </p>
                <br>
                <div style="font-size: 20px; color: #2C3E50; margin-top: 15px;">December 5, 2017</div>
            </div>
            <div class="col-offset-2 col-8 top-2">

                

                

<h3 id="introduction">Introduction</h3>

<p>When I was in grad school at Emory, I had a favorite desk in the library. The desk wasn’t particularly cozy or private, but what it lacked in comfort it made up for in real estate. My books and I needed room to operate. Students of the ancient world require many tools, and when jumping between commentaries, lexicons, and interlinears, additional clutter is additional “friction”, i.e., lapses in thought due to frustration. Technical solutions to this clutter exist, but the best ones are proprietary and expensive. Furthermore, they are somewhat inflexible, and you may have to shoehorn your thoughts into their framework. More friction.</p>

<p>Interfacing with <a href="http://www.perseus.tufts.edu/hopper/">the Perseus Digital Library</a> was a popular online alternative. The library includes a catalog of classical texts, a Greek and Latin lexicon, and a word study tool for appearances and references in other literature. If the university library’s reference copies of BDAG<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup> and <em>Synopsis Quattuor Evangeliorum</em><sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup> were unavailable, Perseus was our next best thing.</p>

<p>Fast forward several years, and I’ve abandoned my quest to become a biblical scholar. Much to my father’s dismay, I’ve learned writing code is more fun than writing exegesis papers. Still, I enjoy dabbling with dead languages, and it was the desire to wed my two loves, biblical studies and R, that birthed my latest package, <code>rperseus</code>. The goal of this package is to furnish classicists with texts of the ancient world and a toolkit to unpack them.</p>

<h3 id="exploratory-data-analysis-in-biblical-studies">Exploratory Data Analysis in Biblical Studies</h3>

<p>Working with the Perseus Digital Library was already a trip down memory lane, but here’s an example of how I would have leveraged <code>rperseus</code> many years ago.</p>

<p>My best papers often sprung from the outer margins of my <a href="https://en.wikipedia.org/wiki/Novum_Testamentum_Graece"><em>Nestle-Aland Novum Testamentum Graece.</em></a> Here the editors inserted cross references to parallel vocabulary, themes, and even grammatical constructions. Given the intertextuality of biblical literature, the margins are a rich source of questions: Where else does the author use similar vocabulary? How is the source material used differently? Does the literary context affect our interpretation of a particular word? This is exploratory data analysis in biblical studies.</p>

<p>Unfortunately the excitement of your questions is incommensurate with the tedium of the process&ndash;EDA continues by flipping back and forth between books, dog-earring pages, and avoiding paper cuts. <code>rperseus</code> aims to streamline this process with two functions: <code>get_perseus_text</code> and <code>perseus_parallel</code>. The former returns a data frame containing the text from any work in the Perseus Digital Library, and the latter renders a parallel in <code>ggplot2</code>.</p>

<p>Suppose I am writing a paper on different expressions of love in Paul’s letters. Naturally, I start in 1 Corinthians 13, the famed “Love Chapter” often heard at weddings and seen on bumper stickers. I finish the chapter and turn to the margins. In the image below, I see references to Colossians 1:4, 1 Thessalonians 1:3, 5:8, Hebrews 10:22-24, and Romans 8:35-39.</p>

<p><img src="/img/blog-images/2017-12-05-rperseus/nantg.png" alt="" />
<em>1 Corinithians 13 in Nestle-Aland Novum Testamentum Graece</em></p>

<p>Ignoring that some scholars exclude Colossians from the “authentic” letters, let’s see the references alongside each other:</p>

<pre><code class="language-r">library(rperseus) #devtools::install_github(“ropensci/rperseus”)
library(tidyverse)

tribble(
  ~label, ~excerpt,
  &quot;Colossians&quot;, &quot;1.4&quot;,
  &quot;1 Thessalonians&quot;, &quot;1.3&quot;,
  &quot;1 Thessalonians&quot;, &quot;5.8&quot;,
  &quot;Romans&quot;, &quot;8.35-8.39&quot;
  ) %&gt;% 
  left_join(perseus_catalog) %&gt;%
  filter(language == &quot;grc&quot;) %&gt;%
  select(urn, excerpt) %&gt;%
  pmap_df(get_perseus_text) %&gt;%
  perseus_parallel(words_per_row = 4)
</code></pre>

<p><img src="/img/blog-images/2017-12-05-rperseus/Parallel1.png" alt="" /></p>

<p>A brief explanation: First, I specify the labels and excerpts within a tibble. Second, I join the lazily loaded <code>perseus_catalog</code> onto the data frame. Third, I filter for the Greek<sup class="footnote-ref" id="fnref:3"><a rel="footnote" href="#fn:3">3</a></sup> and select the columns containing the arguments required for <code>get_perseus_text</code>. Fourth, I map over each urn and excerpt, returning another data frame. Finally, I pipe the output into <code>perseus_parallel</code>.</p>

<p>The key word shared by each passage is <em>agape</em> (“love”). Without going into detail, it might be fruitful to consider the references alongside each other, pondering how the semantic range of <em>agape</em> expands or contracts within the Pauline corpus. Paul had a penchant for appropriating and recasting old ideas&ndash;often in slippery and unexpected ways&ndash;and your Greek lexicon provides a mere approximation. In other words, how can we move from the dictionary definition of <em>agape</em> towards Paul&rsquo;s unique vision?</p>

<p>If your Greek is rusty, you can parse each word with <code>parse_excerpt</code> by locating the text&rsquo;s urn within the <code>perseus_catalog</code> object.</p>

<pre><code class="language-r">parse_excerpt(urn = &quot;urn:cts:greekLit:tlg0031.tlg012.perseus-grc2&quot;, excerpt = &quot;1.4&quot;)
</code></pre>

<table>
<thead>
<tr>
<th align="left">word</th>
<th align="left">form</th>
<th align="left">verse</th>
<th align="left">part_of_speech</th>
<th align="left">person</th>
<th align="left">number</th>
<th align="left">tense</th>
<th align="left">mood</th>
<th align="left">voice</th>
<th align="left">gender</th>
<th align="left">case</th>
<th align="left">degree</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">ἀκούω</td>
<td align="left">ἀκούσαντες</td>
<td align="left">1.4</td>
<td align="left">verb</td>
<td align="left">NA</td>
<td align="left">plural</td>
<td align="left">aorist</td>
<td align="left">participle</td>
<td align="left">active</td>
<td align="left">masculine</td>
<td align="left">nominative</td>
<td align="left">NA</td>
</tr>

<tr>
<td align="left">ὁ</td>
<td align="left">τὴν</td>
<td align="left">1.4</td>
<td align="left">article</td>
<td align="left">NA</td>
<td align="left">singular</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">feminine</td>
<td align="left">accusative</td>
<td align="left">NA</td>
</tr>

<tr>
<td align="left">πίστις</td>
<td align="left">πίστιν</td>
<td align="left">1.4</td>
<td align="left">noun</td>
<td align="left">NA</td>
<td align="left">singular</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">feminine</td>
<td align="left">accusative</td>
<td align="left">NA</td>
</tr>

<tr>
<td align="left">ὑμός</td>
<td align="left">ὑμῶν</td>
<td align="left">1.4</td>
<td align="left">pronoun</td>
<td align="left">NA</td>
<td align="left">plural</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">masculine</td>
<td align="left">genative</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>

<p>If your Greek is <em>really</em> rusty, you can also flip the <code>language</code> filter to “eng” to view an older English translation.<sup class="footnote-ref" id="fnref:4"><a rel="footnote" href="#fn:4">4</a></sup> And if the margin references a text from the Old Testament, you can call the Septuagint as well as the original Hebrew.<sup class="footnote-ref" id="fnref:5"><a rel="footnote" href="#fn:5">5</a></sup></p>

<pre><code class="language-r">tribble(
  ~label, ~excerpt,
  &quot;Genesis&quot;, &quot;32.31&quot;,
  &quot;Genesis, pointed&quot;, &quot;32.31&quot;,
  &quot;Numeri&quot;, &quot;12.8&quot;,
  &quot;Numbers, pointed&quot;, &quot;12.8&quot;
  ) %&gt;% 
  left_join(perseus_catalog) %&gt;%
  filter(language %in% c(&quot;grc&quot;, &quot;hpt&quot;)) %&gt;%
  select(urn, excerpt) %&gt;%
  pmap_df(get_perseus_text) %&gt;%
  perseus_parallel()
</code></pre>

<p><img src="/img/blog-images/2017-12-05-rperseus/Parallel2.png" alt="" /></p>

<p>Admittedly, there is some “friction” here in joining the <code>perseus_catalog</code> onto the initial tibble. There is a learning curve with getting acquainted with the idiosyncrasies of the catalog object. A later release will aim to streamline this workflow.</p>

<h3 id="future-work">Future Work</h3>

<p><a href="https://ropensci.github.io/rperseus/articles/rperseus-vignette.html">Check the vignette</a> for a more general overview of <code>rperseus</code>. In the meantime, I look forward to getting more intimately acquainted with the Perseus Digital Library. Tentative plans to extend <code>rperseus</code> a Shiny interface to further reduce “friction” and a method of creating a “book” of custom parallels with <code>bookdown</code>.</p>

<h3 id="acknowledgements">Acknowledgements</h3>

<p>I want to thank my two rOpenSci reviewers, <a href="https://www.ildiczeller.com/">Ildikó Czeller</a> and <a href="https://francoismichonneau.net/">François Michonneau,</a> for coaching me through the review process. They were the first two individuals to ever scrutinize my code, and I was lucky to hear their feedback. rOpenSci onboarding is truly a wonderful process.</p>

<!-- references -->
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">Bauer, Walter. <em>A Greek-English Lexicon of the New Testament and Other Early Christian Literature.</em> Edited by Frederick W. Danker. 3rd ed. Chicago: University of Chicago Press, 2000.
 <a class="footnote-return" href="#fnref:1">↩</a></li>
<li id="fn:2">Aland, Kurt. <em>Synopsis Quattuor Evangeliorum.</em> Deutsche Bibelgesellschaft, 1997.
 <a class="footnote-return" href="#fnref:2">↩</a></li>
<li id="fn:3">The Greek text from the Perseus Digital Library is from 1885 standards. The advancement of textual criticism in the 20th century led to a more stable text you would find in current editions of the Greek New Testament.<br />
 <a class="footnote-return" href="#fnref:3">↩</a></li>
<li id="fn:4">The English translation is from Rainbow Missions, Inc. <em>World English Bible.</em> Rainbow Missions, Inc.; revision of the American Standard Version of 1901. I’ve toyed with the idea of incorporating more modern translations, but that would require require resources beyond the Perseus Digital Library.
 <a class="footnote-return" href="#fnref:4">↩</a></li>
<li id="fn:5">&ldquo;hpt&rdquo; is the pointed Hebrew text from <em>Codex Leningradensis.</em>
 <a class="footnote-return" href="#fnref:5">↩</a></li>
</ol>
</div>

            </div>
            <br>
            <div class="col-offset-2 col-8 top-4 labels">
                
                    <a href="/tags/r"><span class="label">r</span></a>
                
                    <a href="/tags/api"><span class="label">API</span></a>
                
                    <a href="/tags/packages"><span class="label">packages</span></a>
                
                    <a href="/tags/textmining"><span class="label">textmining</span></a>
                
                    <a href="/tags/text-analysis"><span class="label">text-analysis</span></a>
                
                    <a href="/tags/text-visualization"><span class="label">text-visualization</span></a>
                
                    <a href="/tags/linguistics"><span class="label">linguistics</span></a>
                
                    <a href="/tags/data-extraction"><span class="label">data-extraction</span></a>
                
                    <a href="/tags/classics"><span class="label">classics</span></a>
                
                    <a href="/tags/community"><span class="label">community</span></a>
                
            </div>

            
            
            <div class="col-offset-2 col-8 top-4">
                <div id='discourse-comments'></div>
                <script type="text/javascript">
                DiscourseEmbed = { discourseUrl: 'https://discuss.ropensci.org/',
                                   topicId:  988  };
                (function() {
                  var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
                  d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
                })();
                </script>
            </div>
            
        </div>
        <br>
    </div>
</article>





    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>



</body>
</html>



