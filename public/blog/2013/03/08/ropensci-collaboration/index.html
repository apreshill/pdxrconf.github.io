<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | Visualizing rOpenSci collaboration</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-462421-6', 'auto');
ga('send', 'pageview');
</script>

</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>


<article>
    <div class="container">
        <div class="row">
            <div class="col-2 sidebar top-5">
                <ul class="autoSidebar"></ul>
            </div> 
        </div>
        <div class="row">
            <div class="col-offset-2 col-8 top-20">
                <h2 style="text-align: center;">Visualizing rOpenSci collaboration</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-offset-2 col-8 top-10 bottom-5" style="font-size: 20px; text-align: center;">
                <p class="authors" style="text-align: center;">
                    
                        
                          <a href="/about/#team"> Scott Chamberlain </a>&nbsp;
                        
                    
                </p>
                <br>
                <div style="font-size: 20px; color: #2C3E50; margin-top: 15px;">March 8, 2013</div>
            </div>
            <div class="col-offset-2 col-8 top-2">

                

                

<p>We have been writing code for R packages for a couple years, so it is time to take a look back at the data. What data you ask? The commits data from GitHub ~ data that records who did what and when.</p>

<p>Using the <a href="http://developer.github.com/v3/repos/commits/">Github commits API</a> we can gather data on who commited code to a Github repository, and when they did it. Then we can visualize this hitorical record.</p>

<hr />

<h3 id="install-some-functions-for-interacting-with-the-github-api-via-r">Install some functions for interacting with the Github API via R</h3>

<pre><code class="language-r">
install_github('sandbox', 'ropensci')

library(sandbox)
library(httr)
library(ggplot2)
library(scales)
library(reshape2)
library(bipartite)
library(doMC)
library(plyr)
library(ggthemes)
library(picante)

# And authenticate - pops open a page in your default browser, then tells
# you authentication was successful
github_auth()
</code></pre>

<hr />

<h3 id="get-all-repos-for-an-organization-here-ropensci-of-course">Get all repos for an organization, here ropensci of course</h3>

<pre><code class="language-r">ropensci_repos &lt;- github_allrepos(userorg = &quot;ropensci&quot;)
</code></pre>

<hr />

<h3 id="get-commits-broken-down-in-to-additions-and-deletions-though-below-we-just-collapse-them-to-all-commits">Get commits broken down in to additions and deletions, though below we just collapse them to all commits</h3>

<pre><code class="language-r">registerDoMC(cores = 4)
github_commits_safe &lt;- plyr::failwith(NULL, github_commits)
out &lt;- llply(ropensci_repos, function(x) github_commits_safe(&quot;ropensci&quot;, x,
    since = &quot;2009-01-01T&quot;, limit = 500), .parallel = TRUE)
names(out) &lt;- ropensci_repos
out2 &lt;- compact(out)
outdf &lt;- ldply(out2)
</code></pre>

<hr />

<h3 id="plot-commits-by-date-and-repo">Plot commits by date and repo</h3>

<pre><code class="language-r">outdf_subset &lt;- outdf[!outdf$.id %in% c(&quot;citeulike&quot;, &quot;challenge&quot;, &quot;docs&quot;, &quot;ropensci-book&quot;,
    &quot;usecases&quot;, &quot;textmine&quot;, &quot;usgs&quot;, &quot;ropenscitoolkit&quot;, &quot;neotoma&quot;, &quot;rEWDB&quot;, &quot;rgauges&quot;,
    &quot;rodash&quot;, &quot;ropensci.github.com&quot;, &quot;ROAuth&quot;), ]
outdf_subset$.id &lt;- tolower(outdf_subset$.id)
outdf_subset &lt;- ddply(outdf_subset, .(.id, date), summarise, value = sum(value))

mindates &lt;- llply(unique(outdf_subset$.id), function(x) min(outdf_subset[outdf_subset$.id ==
    x, &quot;date&quot;]))
names(mindates) &lt;- unique(outdf_subset$.id)
mindates &lt;- sort(do.call(c, mindates))
outdf_subset$.id &lt;- factor(outdf_subset$.id, levels = names(mindates))

ggplot(outdf_subset, aes(date, value, fill = .id)) +
    geom_bar(stat = &quot;identity&quot;, width = 0.5) +
    geom_rangeframe(sides = &quot;b&quot;, colour = &quot;grey&quot;) +
    theme_bw(base_size = 9) +
    scale_x_date(labels = date_format(&quot;%Y&quot;), breaks = date_breaks(&quot;year&quot;)) +
    scale_y_log10() +
    facet_grid(.id ~ .) +
    labs(x = &quot;&quot;, y = &quot;&quot;) +
    theme(axis.text.y = element_blank(),
        axis.text.x = element_text(colour = &quot;black&quot;),
        axis.ticks.y = element_blank(),
        strip.text.y = element_text(angle = 0, size = 8, ),
        strip.background = element_rect(size = 0),
        panel.grid.major = element_blank(),
        panel.grid.minor = element_blank(),
        legend.text = element_text(size = 8),
        legend.position = &quot;none&quot;,
        panel.border = element_blank())
</code></pre>

<p><img src="/assets/blog-images/commitsbydate.png" alt="center" /></p>

<p>The plot above plots the sum of additions+deletions, and is sorted by the first commit date of reach repo, with the first being <a href="https://github.com/ropensci/treeBASE">treebase</a>, which wraps the <a href="http://treebase.org/treebase-web/urlAPI.html">Treebase API</a>, and the most recent being <a href="https://github.com/ropensci/rWBclimate">rwbclimate</a>, which wraps the <a href="http://data.worldbank.org/developers/climate-data-api">World Blank climate data API</a>.</p>

<p>You can see that some repos have recieved commits more or less consistently over their life time, while others have seen a little development here and there.</p>

<hr />

<h3 id="in-addition-there-are-quite-a-few-people-that-have-committed-code-now-to-ropensci-repos-calling-for-a-network-vizualization-of-course">In addition, there are quite a few people that have committed code now to rOpenSci repos, calling for a network vizualization of course.</h3>

<pre><code class="language-r">outdf_network &lt;- droplevels(outdf[!outdf$.id %in% c(&quot;citeulike&quot;, &quot;challenge&quot;,
    &quot;docs&quot;, &quot;ropensci-book&quot;, &quot;usecases&quot;, &quot;textmine&quot;, &quot;usgs&quot;, &quot;ropenscitoolkit&quot;,
    &quot;retriever&quot;, &quot;rodash&quot;, &quot;ropensci.github.com&quot;, &quot;ROAuth&quot;, &quot;rgauges&quot;, &quot;sandbox&quot;,
    &quot;rfna&quot;, &quot;rmetadata&quot;, &quot;rhindawi&quot;, &quot;rpmc&quot;, &quot;rpensoft&quot;, &quot;ritis&quot;), ])
casted &lt;- dcast(outdf_network, .id + date + name ~ variable, fun.aggregate = length,
    value.var = &quot;value&quot;)
names(casted)[1] &lt;- &quot;repo&quot;
casted2 &lt;- ddply(casted, .(repo, name), summarise, commits = sum(additions))
casted2 &lt;- data.frame(repo = casted2$repo, weight = casted2$commits, name = casted2$name)
mat &lt;- sample2matrix(casted2)
plotweb(sortweb(mat, sort.order = &quot;dec&quot;), method = &quot;normal&quot;, text.rot = 90,
    adj.high = c(-0.3, 0), adj.low = c(1, -0.3), y.width.low = 0.05, y.width.high = 0.05,
    ybig = 0.09, labsize = 0.7)
</code></pre>

<p><img src="/assets/blog-images/collabnetwork.png" alt="center" /></p>

<p>The plot above shows repos on one side and contributors on the other. Some folks (the core rOpenSci team: cboettig, karthikram, emhart, and sckott) have committed quite a lot to many packages. We also have many awesome contributors to our packages (some contributors and repos have been removed for clarity).</p>

<p>rOpenSci is truly a collaborative effort to develop tools for open science, so thanks to all our contributors - keep on forking, pull requesting, and commiting.</p>

            </div>
            <br>
            <div class="col-offset-2 col-8 top-4 labels">
                
                    <a href="/tags/r"><span class="label">R</span></a>
                
                    <a href="/tags/ropensci"><span class="label">ropensci</span></a>
                
                    <a href="/tags/github"><span class="label">github</span></a>
                
                    <a href="/tags/api"><span class="label">API</span></a>
                
            </div>

            
            
            <div class="col-offset-2 col-8 top-4">
              <div id="disqus_thread"></div>
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                var disqus_shortname = 'ropenscience';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
            
        </div>
        <br>
    </div>
</article>





    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>



</body>
</html>



