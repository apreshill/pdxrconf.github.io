<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | binomen tutorial</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>



    <article>
        <div class="container top-20">
            
            <div class="row centered">
                
                <div class="col-7 bottom-20 maintext">
                    <h1>binomen tutorial</h1>
                    <br>
                    <h4><small style="color:grey">for v0.1.0</small></h4>
                    <br>

                    <article>
                    

<p><code>binomen</code> provides various taxonomic classes for defining a single taxon, multiple taxa, and a taxonomic data.frame</p>

<p>It is sort of a companion to <a href="https://github.com/ropensci/taxize">taxize</a>, where you can get taxonomic data on taxonomic names from the web.</p>

<p>The classes (S3):</p>

<ul>
<li><code>taxon</code></li>
<li><code>taxonref</code></li>
<li><code>taxonrefs</code></li>
<li><code>binomial</code></li>
<li><code>grouping</code> (i.e., classification)</li>
</ul>

<p>The verbs:</p>

<ul>
<li><code>gethier()</code> - get hierarchy from a <code>taxon</code> class</li>
<li><code>scatter()</code> - make each row in taxonomic data.frame (<code>taxondf</code>) a separate <code>taxon</code> object within a single <code>taxa</code> object</li>
<li><code>assemble()</code> - make a <code>taxa</code> object into a <code>taxondf</code> data.frame</li>
<li><code>pick()</code> - pick out one or more taxonomic groups</li>
<li><code>pop()</code> - pop out (drop) one or more taxonomic groups</li>
<li><code>span()</code> - pick a range between two taxonomic groups (inclusive)</li>
<li><code>strain()</code> - filter by taxonomic groups, like dplyr&rsquo;s filter</li>
<li><code>name()</code> - get the taxon name for each <code>taxonref</code> object</li>
<li><code>uri()</code> - get the reference uri for each <code>taxonref</code> object</li>
<li><code>rank()</code> - get the taxonomic rank for each <code>taxonref</code> object</li>
<li><code>id()</code> - get the reference uri for each <code>taxonref</code> object</li>
</ul>

<h3 id="installation">Installation</h3>

<p>Install and load <code>binomen</code> into the R session. Stable version from CRAN</p>

<pre><code class="language-r">install.packages(&quot;binomen&quot;)
</code></pre>

<p>Or development version from Github:</p>

<pre><code class="language-r">install.packages(&quot;devtools&quot;)
devtools::install_github(&quot;ropensci/binomen&quot;)
</code></pre>

<pre><code class="language-r">library('binomen')
</code></pre>

<h3 id="usage">Usage</h3>

<h4 id="make-a-taxon">Make a taxon</h4>

<p>Make a taxon object</p>

<pre><code class="language-r">(obj &lt;- make_taxon(genus=&quot;Poa&quot;, epithet=&quot;annua&quot;, authority=&quot;L.&quot;,
  family='Poaceae', clazz='Poales', kingdom='Plantae', variety='annua'))
#&gt; &lt;taxon&gt;
#&gt;   binomial: Poa annua
#&gt;   grouping: 
#&gt;     kingdom: Plantae
#&gt;     clazz: Poales
#&gt;     family: Poaceae
#&gt;     genus: Poa
#&gt;     species: Poa annua
#&gt;     variety: annua
</code></pre>

<p>Index to various parts of the object</p>

<p>The binomial</p>

<pre><code class="language-r">obj$binomial
#&gt; &lt;binomial&gt;
#&gt;   genus: Poa
#&gt;   epithet: annua
#&gt;   canonical: Poa annua
#&gt;   species: Poa annua L.
#&gt;   authority: L.
</code></pre>

<p>The authority</p>

<pre><code class="language-r">obj$binomial$authority
#&gt; [1] &quot;L.&quot;
</code></pre>

<p>The classification</p>

<pre><code class="language-r">obj$grouping
#&gt; &lt;grouping&gt;
#&gt;   kingdom: Plantae
#&gt;   clazz: Poales
#&gt;   family: Poaceae
#&gt;   genus: Poa
#&gt;   species: Poa annua
#&gt;   variety: annua
</code></pre>

<p>The family</p>

<pre><code class="language-r">obj$grouping$family
#&gt; &lt;taxonref&gt;
#&gt;   rank: family
#&gt;   name: Poaceae
#&gt;   id: none
#&gt;   uri: none
</code></pre>

<h4 id="subset-taxon-objects">Subset taxon objects</h4>

<p>Get one or more ranks via <code>pick()</code></p>

<pre><code class="language-r">obj %&gt;% pick(family)
#&gt; &lt;taxon&gt;
#&gt;   binomial: Poa annua
#&gt;   grouping: 
#&gt;     family: Poaceae
obj %&gt;% pick(family, genus)
#&gt; &lt;taxon&gt;
#&gt;   binomial: Poa annua
#&gt;   grouping: 
#&gt;     family: Poaceae
#&gt;     genus: Poa
</code></pre>

<p>Drop one or more ranks via <code>pop()</code></p>

<pre><code class="language-r">obj %&gt;% pop(family)
#&gt; &lt;taxon&gt;
#&gt;   binomial: Poa annua
#&gt;   grouping: 
#&gt;     kingdom: Plantae
#&gt;     clazz: Poales
#&gt;     genus: Poa
#&gt;     species: Poa annua
#&gt;     variety: annua
obj %&gt;% pop(family, genus)
#&gt; &lt;taxon&gt;
#&gt;   binomial: Poa annua
#&gt;   grouping: 
#&gt;     kingdom: Plantae
#&gt;     clazz: Poales
#&gt;     species: Poa annua
#&gt;     variety: annua
</code></pre>

<p>Get a range of ranks via <code>span()</code></p>

<pre><code class="language-r">obj %&gt;% span(kingdom, family)
#&gt; &lt;taxon&gt;
#&gt;   binomial: Poa annua
#&gt;   grouping: 
#&gt;     kingdom: Plantae
#&gt;     clazz: Poales
#&gt;     family: Poaceae
</code></pre>

<p>Extract classification as a <code>data.frame</code></p>

<pre><code class="language-r">gethier(obj)
#&gt;      rank      name
#&gt; 1 kingdom   Plantae
#&gt; 2   clazz    Poales
#&gt; 3  family   Poaceae
#&gt; 4   genus       Poa
#&gt; 5 species Poa annua
#&gt; 6 variety     annua
</code></pre>

<h4 id="taxonomic-data-frame-s">Taxonomic data.frame&rsquo;s</h4>

<p>Make one</p>

<pre><code class="language-r">df &lt;- data.frame(order = c('Asterales','Asterales','Fagales','Poales','Poales','Poales'),
  family = c('Asteraceae','Asteraceae','Fagaceae','Poaceae','Poaceae','Poaceae'),
  genus = c('Helianthus','Helianthus','Quercus','Poa','Festuca','Holodiscus'),
  stringsAsFactors = FALSE)
(df2 &lt;- taxon_df(df))
#&gt;       order     family      genus
#&gt; 1 Asterales Asteraceae Helianthus
#&gt; 2 Asterales Asteraceae Helianthus
#&gt; 3   Fagales   Fagaceae    Quercus
#&gt; 4    Poales    Poaceae        Poa
#&gt; 5    Poales    Poaceae    Festuca
#&gt; 6    Poales    Poaceae Holodiscus
</code></pre>

<p>Parse - get rank order via <code>pick()</code></p>

<pre><code class="language-r">df2 %&gt;% pick(order)
#&gt;       order
#&gt; 1 Asterales
#&gt; 2 Asterales
#&gt; 3   Fagales
#&gt; 4    Poales
#&gt; 5    Poales
#&gt; 6    Poales
</code></pre>

<p>get ranks order, family, and genus via <code>pick()</code></p>

<pre><code class="language-r">df2 %&gt;% pick(order, family, genus)
#&gt;       order     family      genus
#&gt; 1 Asterales Asteraceae Helianthus
#&gt; 2 Asterales Asteraceae Helianthus
#&gt; 3   Fagales   Fagaceae    Quercus
#&gt; 4    Poales    Poaceae        Poa
#&gt; 5    Poales    Poaceae    Festuca
#&gt; 6    Poales    Poaceae Holodiscus
</code></pre>

<p>get range of names via <code>span()</code>, from rank <code>X</code> to rank <code>Y</code></p>

<pre><code class="language-r">df2 %&gt;% span(family, genus)
#&gt;       family      genus
#&gt; 1 Asteraceae Helianthus
#&gt; 2 Asteraceae Helianthus
#&gt; 3   Fagaceae    Quercus
#&gt; 4    Poaceae        Poa
#&gt; 5    Poaceae    Festuca
#&gt; 6    Poaceae Holodiscus
</code></pre>

<p>Separate each row into a <code>taxon</code> class (many <code>taxon</code> objects are a <code>taxa</code> class)</p>

<pre><code class="language-r">scatter(df2)
#&gt; [[1]]
#&gt; &lt;taxon&gt;
#&gt;   binomial: Helianthus none
#&gt;   grouping: 
#&gt;     order: Asterales
#&gt;     family: Asteraceae
#&gt;     genus: Helianthus
#&gt;     species: Helianthus none
#&gt; 
#&gt; [[2]]
#&gt; &lt;taxon&gt;
#&gt;   binomial: Helianthus none
#&gt;   grouping: 
#&gt;     order: Asterales
#&gt;     family: Asteraceae
#&gt;     genus: Helianthus
#&gt;     species: Helianthus none
#&gt; 
#&gt; [[3]]
#&gt; &lt;taxon&gt;
...
</code></pre>

<p>And you can re-assemble a data.frame from the output of <code>scatter()</code> with <code>assemble()</code></p>

<pre><code class="language-r">out &lt;- scatter(df2)
assemble(out)
#&gt;       order     family      genus         species
#&gt; 1 Asterales Asteraceae Helianthus Helianthus none
#&gt; 2 Asterales Asteraceae Helianthus Helianthus none
#&gt; 3   Fagales   Fagaceae    Quercus    Quercus none
#&gt; 4    Poales    Poaceae        Poa        Poa none
#&gt; 5    Poales    Poaceae    Festuca    Festuca none
#&gt; 6    Poales    Poaceae Holodiscus Holodiscus none
</code></pre>

<h3 id="citing">Citing</h3>

<p>To cite <code>binomen</code> in publications use:</p>

<blockquote>
<p>Scott Chamberlain (2016). binomen: &lsquo;Taxonomic&rsquo; Specification and Parsing Methods. <a href="https://github.com/ropensci/binomen">https://github.com/ropensci/binomen</a></p>
</blockquote>

<h3 id="license-and-bugs">License and bugs</h3>

<ul>
<li>License: <a href="http://opensource.org/licenses/MIT">MIT</a></li>
<li>Report bugs at <a href="https://github.com/ropensci/binomen/issues?state=open">our Github repo for rnoaa</a></li>
</ul>

<p><a href="#top">Back to top</a></p>

                    </article>
                </div>

                </div>
            </div>
        </div>
    </article>


    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>




    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    

    
    <script type="text/javascript" src="/js/highlight.pack.js"></script>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>



</body>
</html>
