<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | rbhl tutorial</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>



    <article>
        <div class="container top-20">
            
            <div class="row centered">
                
                <div class="col-7 bottom-20 maintext">
                    <h1>rbhl tutorial</h1>
                    <br>
                    <h4><small style="color:grey">for v0.8.0</small></h4>
                    <br>

                    <article>
                    

<p><code>rbhl</code> is an R interface to the Biodiversity Heritage Library.</p>

<h3 id="installation">Installation</h3>

<pre><code class="language-r">install.packages(&quot;rbhl&quot;)
</code></pre>

<p>Or development version from GitHub</p>

<pre><code class="language-r">install.packages(&quot;devtools&quot;)
devtools::install_github(&quot;ropensci/rbhl&quot;)
</code></pre>

<pre><code class="language-r">library(&quot;rbhl&quot;)
</code></pre>

<h2 id="usage">Usage</h2>

<h3 id="output-formats">Output formats</h3>

<p>You can output various formats using the <code>as</code> parameter, setting to &lsquo;json&rsquo;, &lsquo;xml&rsquo;, &lsquo;list&rsquo;, or &lsquo;table&rsquo;. Note that not all options are available in all functions due to varying returned data objects.</p>

<p>Raw output, in xml format</p>

<pre><code class="language-r">bhl_authorsearch(name='dimmock', as='xml')
</code></pre>

<p>json format</p>

<pre><code class="language-r">bhl_authorsearch(name='dimmock', as='json')
#&gt; [1] &quot;{\&quot;Status\&quot;:\&quot;ok\&quot;,\&quot;ErrorMessage\&quot;:null,\&quot;Result\&quot;:[{\&quot;CreatorID\&quot;:189035,\&quot;Name\&quot;:\&quot;Dimmock, Anna Katherina\&quot;,\&quot;Role\&quot;:null,\&quot;Numeration\&quot;:\&quot;\&quot;,\&quot;Unit\&quot;:\&quot;\&quot;,\&quot;Title\&quot;:\&quot;\&quot;,\&quot;Location\&quot;:\&quot;\&quot;,\&quot;FullerForm\&quot;:\&quot;\&quot;,\&quot;Relationship\&quot;:null,\&quot;TitleOfWork\&quot;:null,\&quot;Dates\&quot;:\&quot;\&quot;,\&quot;CreatorUrl\&quot;:\&quot;https://www.biodiversitylibrary.org/creator/189035\&quot;},{\&quot;CreatorID\&quot;:59023,\&quot;Name\&quot;:\&quot;Dimmock, G\&quot;,\&quot;Role\&quot;:null,\&quot;Numeration\&quot;:\&quot;\&quot;,\&quot;Unit\&quot;:\&quot;\&quot;,\&quot;Title\&quot;:\&quot;\&quot;,\&quot;Location\&quot;:\&quot;\&quot;,\&quot;FullerForm\&quot;:\&quot;\&quot;,\&quot;Relationship\&quot;:null,\&quot;TitleOfWork\&quot;:null,\&quot;Dates\&quot;:\&quot;\&quot;,\&quot;CreatorUrl\&quot;:\&quot;https://www.biodiversitylibrary.org/creator/59023\&quot;},{\&quot;CreatorID\&quot;:189042,\&quot;Name\&quot;:\&quot;Dimmock, Geo \&quot;,\&quot;Role\&quot;:null,\&quot;Numeration\&quot;:\&quot;\&quot;,\&quot;Unit\&quot;:\&quot;\&quot;,\&quot;Title\&quot;:\&quot;\&quot;,\&quot;Location\&quot;:\&quot;\&quot;,\&quot;FullerForm\&quot;:\&quot;\&quot;,\&quot;Relationship\&quot;:null,\&quot;TitleOfWork\&quot;:null,\&quot;Dates\&quot;:\&quot;\&quot;,\&quot;CreatorUrl\&quot;:\&quot;https://www.biodiversitylibrary.org/creator/189042\&quot;},{\&quot;CreatorID\&quot;:189021,\&quot;Name\&quot;:\&quot;Dimmock, George\&quot;,\&quot;Role\&quot;:null,\&quot;Numeration\&quot;:\&quot;\&quot;,\&quot;Unit\&quot;:\&quot;\&quot;,\&quot;Title\&quot;:\&quot;\&quot;,\&quot;Location\&quot;:\&quot;\&quot;,\&quot;FullerForm\&quot;:\&quot;\&quot;,\&quot;Relationship\&quot;:null,\&quot;TitleOfWork\&quot;:null,\&quot;Dates\&quot;:\&quot;\&quot;,\&quot;CreatorUrl\&quot;:\&quot;https://www.biodiversitylibrary.org/creator/189021\&quot;},{\&quot;CreatorID\&quot;:1970,\&quot;Name\&quot;:\&quot;Dimmock, George,\&quot;,\&quot;Role\&quot;:null,\&quot;Numeration\&quot;:\&quot;\&quot;,\&quot;Unit\&quot;:\&quot;\&quot;,\&quot;Title\&quot;:\&quot;\&quot;,\&quot;Location\&quot;:\&quot;\&quot;,\&quot;FullerForm\&quot;:\&quot;\&quot;,\&quot;Relationship\&quot;:null,\&quot;TitleOfWork\&quot;:null,\&quot;Dates\&quot;:\&quot;1852-\&quot;,\&quot;CreatorUrl\&quot;:\&quot;https://www.biodiversitylibrary.org/creator/1970\&quot;},{\&quot;CreatorID\&quot;:8126,\&quot;Name\&quot;:\&quot;Dimmock, George,\&quot;,\&quot;Role\&quot;:null,\&quot;Numeration\&quot;:\&quot;\&quot;,\&quot;Unit\&quot;:\&quot;\&quot;,\&quot;Title\&quot;:\&quot;\&quot;,\&quot;Location\&quot;:\&quot;\&quot;,\&quot;FullerForm\&quot;:\&quot;\&quot;,\&quot;Relationship\&quot;:null,\&quot;TitleOfWork\&quot;:null,\&quot;Dates\&quot;:\&quot;1852-1930\&quot;,\&quot;CreatorUrl\&quot;:\&quot;https://www.biodiversitylibrary.org/creator/8126\&quot;}]}&quot;
</code></pre>

<p>Or get a list</p>

<pre><code class="language-r">bhl_authorsearch(name='dimmock', as='list')
#&gt; $Status
#&gt; [1] &quot;ok&quot;
#&gt; 
#&gt; $ErrorMessage
#&gt; NULL
#&gt; 
#&gt; $Result
#&gt; $Result[[1]]
#&gt; $Result[[1]]$CreatorID
#&gt; [1] 189035
...
</code></pre>

<p>The default option in most functions is to parse to a data.frame</p>

<pre><code class="language-r">bhl_authorsearch(name='dimmock')
#&gt; # A tibble: 6 x 12
#&gt;   CreatorID                    Name  Role Numeration  Unit Title Location
#&gt; *     &lt;int&gt;                   &lt;chr&gt; &lt;lgl&gt;      &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;
#&gt; 1    189035 Dimmock, Anna Katherina    NA                                
#&gt; 2     59023              Dimmock, G    NA                                
#&gt; 3    189042           Dimmock, Geo     NA                                
#&gt; 4    189021         Dimmock, George    NA                                
#&gt; 5      1970        Dimmock, George,    NA                                
#&gt; 6      8126        Dimmock, George,    NA                                
#&gt; # ... with 5 more variables: FullerForm &lt;chr&gt;, Relationship &lt;lgl&gt;,
#&gt; #   TitleOfWork &lt;lgl&gt;, Dates &lt;chr&gt;, CreatorUrl &lt;chr&gt;
</code></pre>

<h3 id="some-examples-of-function-calls">Some examples of function calls</h3>

<h4 id="get-title-metadata">Get title metadata</h4>

<pre><code class="language-r">bhl_gettitlemetadata(1726, items = TRUE)
#&gt; $Status
#&gt; [1] &quot;ok&quot;
#&gt; 
#&gt; $ErrorMessage
#&gt; NULL
#&gt; 
#&gt; $Result
#&gt; $Result$TitleID
#&gt; [1] 1726
#&gt; 
...
</code></pre>

<h4 id="book-search">Book search</h4>

<pre><code class="language-r">bhl_booksearch(title='Selborne', lname='White', volume=2, edition='new', year=1825, collectionid=4, language='eng')
#&gt; # A tibble: 1 x 23
#&gt;   TitleID BibliographicLevel MaterialType
#&gt; *   &lt;int&gt;              &lt;chr&gt;        &lt;chr&gt;
#&gt; 1   32868                                
#&gt; # ... with 20 more variables: FullTitle &lt;chr&gt;, ShortTitle &lt;lgl&gt;,
#&gt; #   SortTitle &lt;lgl&gt;, PartNumber &lt;chr&gt;, PartName &lt;chr&gt;, CallNumber &lt;lgl&gt;,
#&gt; #   Edition &lt;chr&gt;, PublisherPlace &lt;chr&gt;, PublisherName &lt;chr&gt;,
#&gt; #   PublicationDate &lt;chr&gt;, PublicationFrequency &lt;lgl&gt;, Doi &lt;lgl&gt;,
#&gt; #   TitleUrl &lt;chr&gt;, Authors &lt;list&gt;, Subjects &lt;lgl&gt;, Identifiers &lt;lgl&gt;,
#&gt; #   Collections &lt;lgl&gt;, Variants &lt;lgl&gt;, Items &lt;list&gt;, Notes &lt;lgl&gt;
</code></pre>

<h4 id="search-titles">Search titles</h4>

<pre><code class="language-r">bhl_titlesearchsimple('husbandry')
#&gt; # A tibble: 155 x 23
#&gt;    TitleID BibliographicLevel       MaterialType
#&gt;  *   &lt;int&gt;              &lt;chr&gt;              &lt;chr&gt;
#&gt;  1   25997     Monograph/Item Published material
#&gt;  2   44403     Monograph/Item Published material
#&gt;  3   27062     Monograph/Item Published material
#&gt;  4   41956     Monograph/Item Published material
#&gt;  5   44462     Monograph/Item Published material
#&gt;  6   28081     Monograph/Item Published material
#&gt;  7   56265     Monograph/Item Published material
#&gt;  8   58205     Monograph/Item Published material
#&gt;  9   51946     Monograph/Item Published material
#&gt; 10   55665     Monograph/Item Published material
#&gt; # ... with 145 more rows, and 20 more variables: FullTitle &lt;chr&gt;,
#&gt; #   ShortTitle &lt;chr&gt;, SortTitle &lt;chr&gt;, PartNumber &lt;chr&gt;, PartName &lt;chr&gt;,
#&gt; #   CallNumber &lt;lgl&gt;, Edition &lt;chr&gt;, PublisherPlace &lt;chr&gt;,
#&gt; #   PublisherName &lt;chr&gt;, PublicationDate &lt;chr&gt;,
#&gt; #   PublicationFrequency &lt;chr&gt;, Doi &lt;lgl&gt;, TitleUrl &lt;lgl&gt;, Authors &lt;lgl&gt;,
#&gt; #   Subjects &lt;lgl&gt;, Identifiers &lt;lgl&gt;, Collections &lt;lgl&gt;, Variants &lt;lgl&gt;,
#&gt; #   Items &lt;lgl&gt;, Notes &lt;lgl&gt;
</code></pre>

<h4 id="get-languages">Get languages</h4>

<p>This function gets a list of languages in which materials in BHL have been written.</p>

<pre><code class="language-r">bhl_getlanguages()
#&gt; # A tibble: 70 x 2
#&gt;    LanguageCode         LanguageName
#&gt;  *        &lt;chr&gt;                &lt;chr&gt;
#&gt;  1          AFR            Afrikaans
#&gt;  2          ARA               Arabic
#&gt;  3          ARC              Aramaic
#&gt;  4          MAP Austronesian (Other)
#&gt;  5          BUL            Bulgarian
#&gt;  6          BUR              Burmese
#&gt;  7          CAR                Carib
#&gt;  8          CAT              Catalan
#&gt;  9          CEL       Celtic (Other)
#&gt; 10          CHI              Chinese
#&gt; # ... with 60 more rows
</code></pre>

<h3 id="citing">Citing</h3>

<p>To cite <code>rbhl</code> in publications use:</p>

<p><br></p>

<blockquote>
<p>Scott Chamberlain (2017). rbhl: Interface to the &lsquo;Biodiversity&rsquo;
  &lsquo;Heritage&rsquo; Library. R package version 0.8.0.
  <a href="https://CRAN.R-project.org/package=rbhl">https://CRAN.R-project.org/package=rbhl</a></p>
</blockquote>

<h3 id="license-and-bugs">License and bugs</h3>

<ul>
<li>License: <a href="http://opensource.org/licenses/MIT">MIT</a></li>
<li>Report bugs at <a href="https://github.com/ropensci/rbhl/issues?state=open">our Github repo for rbhl</a></li>
</ul>

<p><a href="#top">Back to top</a></p>

                    </article>
                </div>

                </div>
            </div>
        </div>
    </article>


    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>




    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    

    
    <script type="text/javascript" src="/js/highlight.pack.js"></script>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>



</body>
</html>
