<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | rplos tutorial</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>



    <article>
        <div class="container top-20">
            
            <div class="row centered">
                
                <div class="col-7 bottom-20 maintext">
                    <h1>rplos tutorial</h1>
                    <br>
                    <h4><small style="color:grey">for v0.5.6</small></h4>
                    <br>

                    <article>
                    

<p>The <code>rplos</code> package interacts with the API services of <a href="http://www.plos.org/">PLoS</a> (Public Library of Science) Journals. You used to need an API key to work with this package - that is no longer needed!</p>

<p>This tutorial will go through three use cases to demonstrate the kinds
of things possible in <code>rplos</code>.</p>

<ul>
<li>Search across PLoS papers in various sections of papers</li>
<li>Search for terms and visualize results as a histogram OR as a plot through time</li>
<li>Text mining of scientific literature</li>
</ul>

<p><section id="installation"></p>

<h2 id="installation">Installation</h2>

<pre><code class="language-r">install.packages(&quot;rplos&quot;)
</code></pre>

<p>Or development version</p>

<pre><code class="language-r">if (!require(&quot;devtools&quot;)) install.packages(&quot;devtools&quot;)
devtools::install_github(&quot;ropensci/rplos&quot;)
</code></pre>

<pre><code class="language-r">library(&quot;rplos&quot;)
</code></pre>

<p><section id="usage"></p>

<h2 id="usage">Usage</h2>

<h3 id="search-across-plos-papers-in-various-sections-of-papers">Search across PLoS papers in various sections of papers</h3>

<p><code>searchplos</code> is a general search, and in this case searches for the term
<strong>Helianthus</strong> and returns the DOI&rsquo;s of matching papers</p>

<pre><code class="language-r">searchplos(q= &quot;Helianthus&quot;, fl= &quot;id&quot;, limit = 5)
</code></pre>

<pre><code>#&gt; $meta
#&gt;   numFound start maxScore
#&gt; 1      422     0       NA
#&gt;
#&gt; $data
#&gt;                             id
#&gt; 1 10.1371/journal.pone.0148280
#&gt; 2 10.1371/journal.pone.0111982
#&gt; 3 10.1371/journal.pone.0057533
#&gt; 4 10.1371/journal.pone.0139188
#&gt; 5 10.1371/journal.pone.0045899
</code></pre>

<p>Get only full article DOIs</p>

<pre><code class="language-r">searchplos(q=&quot;*:*&quot;, fl='id', fq='doc_type:full', start=0, limit=5)
</code></pre>

<pre><code>#&gt; $meta
#&gt;   numFound start maxScore
#&gt; 1   184983     0       NA
#&gt;
#&gt; $data
#&gt;                                                        id
#&gt; 1                            10.1371/journal.pone.0107420
#&gt; 2 10.1371/annotation/492fdf80-c999-4947-b569-96af8cb4e9d9
#&gt; 3 10.1371/annotation/7a3d2279-0f96-433c-bb3f-d7fda1759633
#&gt; 4 10.1371/annotation/78d328b9-2c8c-4978-84b1-7e6a0b12ada1
#&gt; 5 10.1371/annotation/7983e1b9-09e4-4123-b1d5-aaaa0121e76a
</code></pre>

<p>Get DOIs for only PLoS One articles</p>

<pre><code class="language-r">searchplos(q=&quot;*:*&quot;, fl='id', fq='cross_published_journal_key:PLoSONE', start=0, limit=5)
</code></pre>

<pre><code>#&gt; $meta
#&gt;   numFound start maxScore
#&gt; 1  1344674     0       NA
#&gt;
#&gt; $data
#&gt;                                        id
#&gt; 1            10.1371/journal.pone.0107420
#&gt; 2      10.1371/journal.pone.0107420/title
#&gt; 3   10.1371/journal.pone.0107420/abstract
#&gt; 4 10.1371/journal.pone.0107420/references
#&gt; 5       10.1371/journal.pone.0107420/body
</code></pre>

<p>Get DOIs for full article in PLoS One</p>

<pre><code class="language-r">searchplos(q=&quot;*:*&quot;, fl='id',
   fq=list('cross_published_journal_key:PLoSONE', 'doc_type:full'),
   start=0, limit=5)
</code></pre>

<pre><code>#&gt; $meta
#&gt;   numFound start maxScore
#&gt; 1   157139     0       NA
#&gt;
#&gt; $data
#&gt;                                                        id
#&gt; 1                            10.1371/journal.pone.0107420
#&gt; 2 10.1371/annotation/492fdf80-c999-4947-b569-96af8cb4e9d9
#&gt; 3 10.1371/annotation/7a3d2279-0f96-433c-bb3f-d7fda1759633
#&gt; 4 10.1371/annotation/78d328b9-2c8c-4978-84b1-7e6a0b12ada1
#&gt; 5 10.1371/annotation/7983e1b9-09e4-4123-b1d5-aaaa0121e76a
</code></pre>

<p>Search for many terms</p>

<pre><code class="language-r">q &lt;- c('ecology','evolution','science')
lapply(q, function(x) searchplos(x, limit=2))
</code></pre>

<pre><code>#&gt; [[1]]
#&gt; [[1]]$meta
#&gt;   numFound start maxScore
#&gt; 1    32852     0       NA
#&gt;
#&gt; [[1]]$data
#&gt;                             id
#&gt; 1 10.1371/journal.pone.0059813
#&gt; 2 10.1371/journal.pone.0001248
#&gt;
#&gt;
#&gt; [[2]]
#&gt; [[2]]$meta
#&gt;   numFound start maxScore
#&gt; 1    53560     0       NA
#&gt;
#&gt; [[2]]$data
#&gt;                                                        id
#&gt; 1 10.1371/annotation/9773af53-a076-4946-a3f1-83914226c10d
#&gt; 2 10.1371/annotation/c55d5089-ba2f-449d-8696-2bc8395978db
#&gt;
#&gt;
#&gt; [[3]]
#&gt; [[3]]$meta
#&gt;   numFound start maxScore
#&gt; 1   157210     0       NA
#&gt;
#&gt; [[3]]$data
#&gt;                             id
#&gt; 1 10.1371/journal.pbio.0020122
#&gt; 2 10.1371/journal.pbio.1001166
</code></pre>

<h3 id="search-on-specific-sections">Search on specific sections</h3>

<p>A suite of functions were created as light wrappers around <code>searchplos</code> as a shorthand to search specific sections of a paper.</p>

<ul>
<li><code>plosauthor</code> searchers in authors</li>
<li><code>plosabstract</code> searches in abstracts</li>
<li><code>plostitle</code> searches in titles</li>
<li><code>plosfigtabcaps</code> searches in figure and table captions</li>
<li><code>plossubject</code> searches in subject areas</li>
</ul>

<p><code>plosauthor</code> searches across authors, and in this case returns the authors of the matching papers. the fl parameter determines what is returned</p>

<pre><code class="language-r">plosauthor(q = &quot;Eisen&quot;, fl = &quot;author&quot;, limit = 5)
</code></pre>

<pre><code>#&gt; $meta
#&gt;   numFound start maxScore
#&gt; 1      833     0       NA
#&gt;
#&gt; $data
#&gt;             author
#&gt; 1 Jonathan A Eisen
#&gt; 2 Jonathan A Eisen
#&gt; 3 Jonathan A Eisen
#&gt; 4 Jonathan A Eisen
#&gt; 5 Jonathan A Eisen
</code></pre>

<p><code>plosabstract</code> searches across abstracts, and in this case returns the id and title of the matching papers</p>

<pre><code class="language-r">plosabstract(q = 'drosophila', fl='id,title', limit = 5)
</code></pre>

<pre><code>#&gt; $meta
#&gt;   numFound start maxScore
#&gt; 1     2925     0       NA
#&gt;
#&gt; $data
#&gt;                             id
#&gt; 1 10.1371/journal.pbio.0040198
#&gt; 2 10.1371/journal.pbio.0030246
#&gt; 3 10.1371/journal.pone.0012421
#&gt; 4 10.1371/journal.pbio.0030389
#&gt; 5 10.1371/journal.pone.0002817
#&gt;                                                                             title
#&gt; 1                                                                     All for All
#&gt; 2                                     School Students as Drosophila Experimenters
#&gt; 3                            Host Range and Specificity of the Drosophila C Virus
#&gt; 4                     New Environments Set the Stage for Changing Tastes in Mates
#&gt; 5 High-Resolution, In Vivo Magnetic Resonance Imaging of Drosophila at 18.8 Tesla
</code></pre>

<p><code>plostitle</code> searches across titles, and in this case returns the title and journal of the matching papers</p>

<pre><code class="language-r">plostitle(q='drosophila', fl='title,journal', limit=5)
</code></pre>

<pre><code>#&gt; $meta
#&gt;   numFound start maxScore
#&gt; 1     1892     0       NA
#&gt;
#&gt; $data
#&gt;                      journal
#&gt; 1               PLoS Biology
#&gt; 2               PLoS Biology
#&gt; 3              PLoS Genetics
#&gt; 4 PLoS Computational Biology
#&gt; 5                   PLoS ONE
#&gt;                                                   title
#&gt; 1      Reinforcement of Gametic Isolation in Drosophila
#&gt; 2         Identification of Drosophila MicroRNA Targets
#&gt; 3 Phenotypic Plasticity of the Drosophila Transcriptome
#&gt; 4            Parametric Alignment of Drosophila Genomes
#&gt; 5              A Tripartite Synapse Model in Drosophila
</code></pre>

<h3 id="search-for-terms-and-visualize-results-as-a-histogram-or-as-a-plot-through-time">Search for terms and visualize results as a histogram OR as a plot through time</h3>

<p><code>plosword</code> allows you to search for 1 to K words and visualize the results
as a histogram, comparing number of matching papers for each word</p>

<pre><code class="language-r">out &lt;- plosword(list(&quot;monkey&quot;, &quot;Helianthus&quot;, &quot;sunflower&quot;, &quot;protein&quot;, &quot;whale&quot;),
    vis = &quot;TRUE&quot;)
out$table
</code></pre>

<pre><code>#&gt;   No_Articles       Term
#&gt; 1       10289     monkey
#&gt; 2         422 Helianthus
#&gt; 3        1144  sunflower
#&gt; 4      114997    protein
#&gt; 5        1331      whale
</code></pre>

<pre><code class="language-r">out$plot
</code></pre>

<p><img src="../assets/tutorial-images/rplos/plosword1plot-1.png" alt="plot of chunk plosword1plot" /></p>

<p>You can also pass in curl options, in this case get verbose information on the curl call.</p>

<pre><code class="language-r">plosword('Helianthus', callopts=list(verbose=TRUE))
</code></pre>

<pre><code>#&gt; Number of articles with search term
#&gt;                                 422
</code></pre>

<h3 id="visualize-terms">Visualize terms</h3>

<p><code>plot_throughtime</code> allows you to search for up to 2 words and visualize the results as a line plot through time, comparing number of articles matching through time. Visualize with the ggplot2 package, only up to two terms for now.</p>

<pre><code class="language-r">library(&quot;ggplot2&quot;)
plot_throughtime(terms = &quot;phylogeny&quot;, limit = 200) + geom_line(size=2, color='black')
</code></pre>

<p><img src="../assets/tutorial-images/rplos/throughtime1-1.png" alt="plot of chunk throughtime1" /></p>

<h3 id="faceted-search">Faceted search</h3>

<p>In addition to <code>searchplos()</code> and related searching functions, there are a few slightly different ways to search: faceting and highlighted searches. Faceting allows you to ask, e.g., how many articles are published in each of the PLOS journals. Highlighting allows you to ask, e.g., highlight terms that I search for in the text results given back, which can make downstream processing easier, and help visualize search results (see <code>highbrow()</code> below).</p>

<p>Facet by journal</p>

<pre><code class="language-r">facetplos(q='*:*', facet.field='journal')
</code></pre>

<pre><code>#&gt; $facet_queries
#&gt; NULL
#&gt;
#&gt; $facet_fields
#&gt; $facet_fields$journal
#&gt;                                 X1      X2
#&gt; 1                         plos one 1285831
#&gt; 2                    plos genetics   50706
#&gt; 3                   plos pathogens   44134
#&gt; 4       plos computational biology   37646
#&gt; 5 plos neglected tropical diseases   35979
#&gt; 6                     plos biology   29392
#&gt; 7                    plos medicine   20335
#&gt; 8             plos clinical trials     521
#&gt; 9                     plos medicin       9
#&gt;
#&gt;
#&gt; $facet_dates
#&gt; NULL
#&gt;
#&gt; $facet_ranges
#&gt; NULL
</code></pre>

<p>Using <code>facet.query</code> to get counts</p>

<pre><code class="language-r">facetplos(q='*:*', facet.field='journal', facet.query='cell,bird')
</code></pre>

<pre><code>#&gt; $facet_queries
#&gt;        term value
#&gt; 1 cell,bird    24
#&gt;
#&gt; $facet_fields
#&gt; $facet_fields$journal
#&gt;                                 X1      X2
#&gt; 1                         plos one 1285831
#&gt; 2                    plos genetics   50706
#&gt; 3                   plos pathogens   44134
#&gt; 4       plos computational biology   37646
#&gt; 5 plos neglected tropical diseases   35979
#&gt; 6                     plos biology   29392
#&gt; 7                    plos medicine   20335
#&gt; 8             plos clinical trials     521
#&gt; 9                     plos medicin       9
#&gt;
#&gt;
#&gt; $facet_dates
#&gt; NULL
#&gt;
#&gt; $facet_ranges
#&gt; NULL
</code></pre>

<p>Date faceting</p>

<pre><code class="language-r">facetplos(q='*:*', url=url, facet.date='publication_date',
  facet.date.start='NOW/DAY-5DAYS', facet.date.end='NOW', facet.date.gap='+1DAY')
</code></pre>

<pre><code>#&gt; $facet_queries
#&gt; NULL
#&gt;
#&gt; $facet_fields
#&gt; NULL
#&gt;
#&gt; $facet_dates
#&gt; $facet_dates$publication_date
#&gt;                   date value
#&gt; 1 2016-04-27T00:00:00Z  2247
#&gt; 2 2016-04-28T00:00:00Z  2187
#&gt; 3 2016-04-29T00:00:00Z   848
#&gt; 4 2016-04-30T00:00:00Z     0
#&gt; 5 2016-05-01T00:00:00Z     0
#&gt; 6 2016-05-02T00:00:00Z     0
#&gt;
#&gt;
#&gt; $facet_ranges
#&gt; NULL
</code></pre>

<h3 id="highlighted-search">Highlighted search</h3>

<p>Search for the term <em>alcohol</em> in the abstracts of articles, return only 10 results</p>

<pre><code class="language-r">highplos(q='alcohol', hl.fl = 'abstract', rows=2)
</code></pre>

<pre><code>#&gt; $`10.1371/journal.pmed.0040151`
#&gt; $`10.1371/journal.pmed.0040151`$abstract
#&gt; [1] &quot;Background: &lt;em&gt;Alcohol&lt;/em&gt; consumption causes an estimated 4% of the global disease burden, prompting&quot;
#&gt;
#&gt;
#&gt; $`10.1371/journal.pone.0027752`
#&gt; $`10.1371/journal.pone.0027752`$abstract
#&gt; [1] &quot;Background: The negative influences of &lt;em&gt;alcohol&lt;/em&gt; on TB management with regard to delays in seeking&quot;
</code></pre>

<p>Search for the term <em>alcohol</em> in the abstracts of articles, and return fragment size of 20 characters, return only 5 results</p>

<pre><code class="language-r">highplos(q='alcohol', hl.fl='abstract', hl.fragsize=20, rows=2)
</code></pre>

<pre><code>#&gt; $`10.1371/journal.pmed.0040151`
#&gt; $`10.1371/journal.pmed.0040151`$abstract
#&gt; [1] &quot;Background: &lt;em&gt;Alcohol&lt;/em&gt;&quot;
#&gt;
#&gt;
#&gt; $`10.1371/journal.pone.0027752`
#&gt; $`10.1371/journal.pone.0027752`$abstract
#&gt; [1] &quot; of &lt;em&gt;alcohol&lt;/em&gt; on TB management&quot;
</code></pre>

<p>Search for the term <em>experiment</em> across all sections of an article, return id (DOI) and title fl only, search in full articles only (via <code>fq='doc_type:full'</code>), and return only 10 results</p>

<pre><code class="language-r">highplos(q='everything:&quot;experiment&quot;', fl='id,title', fq='doc_type:full',
   rows=2)
</code></pre>

<pre><code>#&gt; $`10.1371/journal.pone.0154334`
#&gt; $`10.1371/journal.pone.0154334`$everything
#&gt; [1] &quot; and designed the &lt;em&gt;experiments&lt;/em&gt;: RJ CM AOC. Performed the &lt;em&gt;experiments&lt;/em&gt;: RJ AOC. Analyzed the data: RJ. Contributed&quot;
#&gt;
#&gt;
#&gt; $`10.1371/journal.pone.0039681`
#&gt; $`10.1371/journal.pone.0039681`$everything
#&gt; [1] &quot; Selection of Transcriptomics &lt;em&gt;Experiments&lt;/em&gt; Improves Guilt-by-Association Analyses Transcriptomics &lt;em&gt;Experiment&lt;/em&gt;&quot;
</code></pre>

<h3 id="visualize-highligted-searches">Visualize highligted searches</h3>

<p>Browse highlighted fragments in your default browser</p>

<p>This first examle, we only looko at 10 results</p>

<pre><code class="language-r">out &lt;- highplos(q='alcohol', hl.fl = 'abstract', rows=10)
highbrow(out)
</code></pre>

<p><img src="../assets/tutorial-images/rplos/highbrow.png" alt="highbrow1" /></p>

<p>But it works quickly with lots of results too</p>

<pre><code class="language-r">out &lt;- highplos(q='alcohol', hl.fl = 'abstract', rows=1200)
highbrow(out)
</code></pre>

<p><img src="../assets/tutorial-images/rplos/highbrow_big.png" alt="highbrow2" /></p>

<p><section id="citing"></p>

<h2 id="citing">Citing</h2>

<p>To cite <code>rplos</code> in publications use:</p>

<p><br></p>

<blockquote>
<p>Scott Chamberlain, Carl Boettiger and Karthik Ram (2016). rplos: Interface to PLOS Journals search API. R package version 0.5.6 <a href="https://github.com/ropensci/rplos">https://github.com/ropensci/rplos</a></p>
</blockquote>

<p><section id="license_bugs"></p>

<h2 id="license-and-bugs">License and bugs</h2>

<ul>
<li>License: <a href="http://opensource.org/licenses/MIT">MIT</a></li>
<li>Report bugs at <a href="https://github.com/ropensci/rplos/issues?state=open">our Github repo for rplos</a></li>
</ul>

<p><a href="#top">Back to top</a></p>

                    </article>
                </div>

                </div>
            </div>
        </div>
    </article>


    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>




    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    

    
    <script type="text/javascript" src="/js/highlight.pack.js"></script>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>



</body>
</html>
