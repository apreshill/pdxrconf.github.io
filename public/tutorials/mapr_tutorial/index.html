<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | mapr tutorial</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>



    <article>
        <div class="container top-20">
            
            <div class="row centered">
                
                <div class="col-7 bottom-20 maintext">
                    <h1>mapr tutorial</h1>
                    <br>
                    <h4><small style="color:grey">for v0.3.4</small></h4>
                    <br>

                    <article>
                    

<p>Utilities for &lsquo;vizualizing&rsquo; species occurrence data. Includes functions to &lsquo;vizualize&rsquo; occurrence data from &lsquo;spocc&rsquo;, &lsquo;rgbif&rsquo;, and other packages. Mapping options included for base R plots, &lsquo;ggplot2&rsquo;, and various interactive maps.</p>

<h3 id="installation">Installation</h3>

<p>Stable version from CRAN</p>

<pre><code class="language-r">install.packages(&quot;mapr&quot;)
</code></pre>

<p>Development version from GitHub</p>

<pre><code class="language-r">if (!require(&quot;devtools&quot;)) install.packages(&quot;devtools&quot;)
devtools::install_github(&quot;ropensci/mapr&quot;)
</code></pre>

<pre><code class="language-r">library(&quot;mapr&quot;)
library(&quot;spocc&quot;)
</code></pre>

<h3 id="interactive-maps">Interactive maps</h3>

<h4 id="leaflet-js">Leaflet.js</h4>

<p><a href="http://leafletjs.com/">Leaflet JS</a> is an open source mapping library that can leverage various layers from multiple sources. Using the <a href="http://cran.rstudio.com/package=leaflet"><code>leaflet</code></a> library, we can generate a local interactive map of species occurrence data.</p>

<p>An example:</p>

<pre><code class="language-r">spp &lt;- c('Danaus plexippus','Accipiter striatus','Pinus contorta')
dat &lt;- occ(query = spp, from = 'gbif', has_coords = TRUE, limit = 100)
map_leaflet(dat)
</code></pre>

<p><img src="/img/tutorial-images/mapr/leaflet.png" alt="leaflet" /></p>

<h4 id="geojson-map-as-a-github-gist">Geojson map as a Github gist</h4>

<p>You can also create interactive maps via the <code>mapgist</code> function. You have to have a Github account to use this function. Github accounts are free though, and great for versioning and collaborating on code or papers. When you run the <code>map_gist</code> function it will ask for your Github username and password. You can alternatively store those in your <code>.Rprofile</code> file by adding entries for username (<code>options(github.username = 'username')</code>) and password (<code>options(github.password = 'password')</code>).</p>

<pre><code class="language-r">spp &lt;- c('Danaus plexippus', 'Accipiter striatus', 'Pinus contorta')
dat &lt;- occ(query = spp, from = 'gbif', has_coords = TRUE, limit = 100)
dat &lt;- fixnames(dat)
map_gist(dat, color = c(&quot;#976AAE&quot;, &quot;#6B944D&quot;, &quot;#BD5945&quot;))
</code></pre>

<p><img src="/img/tutorial-images/mapr/gist.png" alt="gist" /></p>

<h3 id="static-maps">Static maps</h3>

<h4 id="base-plots">base plots</h4>

<p>Base plots, or the built in plotting facility in R accessed via <code>plot()</code>, is quite fast, but not easy or efficient to use, but are good for a quick glance at some data.</p>

<pre><code class="language-r">spnames &lt;- c('Accipiter striatus', 'Setophaga caerulescens', 'Spinus tristis')
out &lt;- occ(query = spnames, from = 'gbif', has_coords = TRUE, limit = 100)
map_plot(out, size = 1, pch = 10)
</code></pre>

<p><img src="/img/tutorial-images/mapr/unnamed-chunk-7-1.png" alt="" /></p>

<h4 id="ggplot2">ggplot2</h4>

<p><code>ggplot2</code> is a powerful package for making visualizations in R. Read more about it <a href="https://cran.rstudio.com/web/packages/ggplot2/">here</a>.</p>

<pre><code class="language-r">dat &lt;- occ(query = 'Lynx rufus californicus', from = 'gbif', has_coords = TRUE, limit = 200)
map_ggplot(dat, map = &quot;usa&quot;)
</code></pre>

<p><img src="/img/tutorial-images/mapr/unnamed-chunk-8-1.png" alt="plot of chunk unnamed-chunk-8" /></p>

<h3 id="supported-inputs">Supported inputs</h3>

<p>All functions take the following kinds of inputs:</p>

<ul>
<li>An object of class <code>occdat</code>, from the package <code>spocc</code>. An object of
this class is composed of many objects of class <code>occdatind</code></li>
<li>An object of class <code>occdatind</code>, from the package <code>spocc</code></li>
<li>An object of class <code>gbif</code>, from the package <code>rgbif</code></li>
<li>An object of class <code>data.frame</code>. This data.frame can have any columns, but
must include a column for taxonomic names (e.g., <code>name</code>), and for latitude
and longitude (we guess your lat/long columns, starting with the default
<code>latitude</code> and <code>longitude</code>).</li>
<li>An object of class <code>SpatialPoints</code></li>
<li>An object of class <code>SpatialPointsDatFrame</code></li>
</ul>

<h3 id="citing">Citing</h3>

<blockquote>
<p>Scott Chamberlain (2017). mapr: &lsquo;Visualize&rsquo; Species Occurrence Data. R package version 0.3.4. <a href="https://cran.rstudio.com/package=mapr">https://cran.rstudio.com/package=mapr</a></p>
</blockquote>

<h3 id="license-and-bugs">License and bugs</h3>

<ul>
<li>License: <a href="http://opensource.org/licenses/MIT">MIT</a></li>
<li>Report bugs at <a href="https://github.com/ropensci/mapr/issues?state=open">our GitHub repo for mapr</a></li>
</ul>

<p><a href="#top">Back to top</a></p>

                    </article>
                </div>

                </div>
            </div>
        </div>
    </article>


    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>




    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    

    
    <script type="text/javascript" src="/js/highlight.pack.js"></script>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>



</body>
</html>
