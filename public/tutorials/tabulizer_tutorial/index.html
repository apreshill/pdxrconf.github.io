<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | tabulizer tutorial</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>



    <article>
        <div class="container top-20">
            
            <div class="row centered">
                
                <div class="col-7 bottom-20 maintext">
                    <h1>tabulizer tutorial</h1>
                    <br>
                    <h4><small style="color:grey">for v0.1.22</small></h4>
                    <br>

                    <article>
                    

<p><strong>tabulizer</strong> provides R bindings to the <a href="https://github.com/tabulapdf/tabula-java/">Tabula java library</a>, which can be used to computationaly extract tables from PDF documents.</p>

<p><section id="installation"></p>

<h2 id="installation">Installation</h2>

<p>It&rsquo;s not yet on CRAN</p>

<p>Development version from GitHub</p>

<pre><code class="language-r">if(!require(&quot;ghit&quot;)){
    install.packages(&quot;ghit&quot;)
}
# on 64-bit Windows
ghit::install_github(c(&quot;ropenscilabs/tabulizerjars&quot;, &quot;ropenscilabs/tabulizer&quot;), INSTALL_opts = &quot;--no-multiarch&quot;)
# elsewhere
ghit::install_github(c(&quot;ropenscilabs/tabulizerjars&quot;, &quot;ropenscilabs/tabulizer&quot;))
</code></pre>

<p>See <a href="https://github.com/ropenscilabs/tabulizer#installation">the source</a> for more details on installation.</p>

<pre><code class="language-r">library(&quot;tabulizer&quot;)
</code></pre>

<p><section id="usage"></p>

<h2 id="usage">Usage</h2>

<p>The main function <code>extract_tables()</code> mimics the command-line behavior of the Tabula, by extracting all tables from a PDF file and, by default, returns those tables as a list of character matrices in R.</p>

<pre><code class="language-r">library(&quot;tabulizer&quot;)
f &lt;- system.file(&quot;examples&quot;, &quot;data.pdf&quot;, package = &quot;tabulizer&quot;)

# extract table from first page of example PDF
tab &lt;- extract_tables(f, pages = 1)
head(tab[[1]])
#&gt;      [,1]   [,2]  [,3]    [,4]  [,5]   [,6]    [,7]    [,8] [,9] [,10]
#&gt; [1,] &quot;mpg&quot;  &quot;cyl&quot; &quot;disp&quot;  &quot;hp&quot;  &quot;drat&quot; &quot;wt&quot;    &quot;qsec&quot;  &quot;vs&quot; &quot;am&quot; &quot;gear&quot;
#&gt; [2,] &quot;21.0&quot; &quot;6&quot;   &quot;160.0&quot; &quot;110&quot; &quot;3.90&quot; &quot;2.620&quot; &quot;16.46&quot; &quot;0&quot;  &quot;1&quot;  &quot;4&quot;
#&gt; [3,] &quot;21.0&quot; &quot;6&quot;   &quot;160.0&quot; &quot;110&quot; &quot;3.90&quot; &quot;2.875&quot; &quot;17.02&quot; &quot;0&quot;  &quot;1&quot;  &quot;4&quot;
#&gt; [4,] &quot;22.8&quot; &quot;4&quot;   &quot;108.0&quot; &quot;93&quot;  &quot;3.85&quot; &quot;2.320&quot; &quot;18.61&quot; &quot;1&quot;  &quot;1&quot;  &quot;4&quot;
#&gt; [5,] &quot;21.4&quot; &quot;6&quot;   &quot;258.0&quot; &quot;110&quot; &quot;3.08&quot; &quot;3.215&quot; &quot;19.44&quot; &quot;1&quot;  &quot;0&quot;  &quot;3&quot;
#&gt; [6,] &quot;18.7&quot; &quot;8&quot;   &quot;360.0&quot; &quot;175&quot; &quot;3.15&quot; &quot;3.440&quot; &quot;17.02&quot; &quot;0&quot;  &quot;0&quot;  &quot;3&quot;
</code></pre>

<p>The <code>pages</code> argument allows you to select which pages to attempt to extract tables from. By default, Tabula (and thus tabulizer) checks every page for tables using a detection algorithm and returns all of them. <code>pages</code> can be an integer vector of any length; pages are indexed from 1.</p>

<p>It is possible to specify a remote file, which will be copied to R&rsquo;s temporary directory before processing:</p>

<pre><code class="language-r">f2 &lt;- &quot;https://github.com/leeper/tabulizer/raw/master/inst/examples/data.pdf&quot;
extract_tables(f2, pages = 2)
#&gt; [[1]]
#&gt;      [,1]            [,2]           [,3]            [,4]
#&gt; [1,] &quot;Sepal.Length &quot; &quot;Sepal.Width &quot; &quot;Petal.Length &quot; &quot;Petal.Width &quot;
#&gt; [2,] &quot;5.1 &quot;          &quot;3.5 &quot;         &quot;1.4 &quot;          &quot;0.2 &quot;
#&gt; [3,] &quot;4.9 &quot;          &quot;3.0 &quot;         &quot;1.4 &quot;          &quot;0.2 &quot;
#&gt; [4,] &quot;4.7 &quot;          &quot;3.2 &quot;         &quot;1.3 &quot;          &quot;0.2 &quot;
#&gt; [5,] &quot;4.6 &quot;          &quot;3.1 &quot;         &quot;1.5 &quot;          &quot;0.2 &quot;
#&gt; [6,] &quot;5.0 &quot;          &quot;3.6 &quot;         &quot;1.4 &quot;          &quot;0.2 &quot;
#&gt; [7,] &quot;5.4 &quot;          &quot;3.9 &quot;         &quot;1.7 &quot;          &quot;0.4 &quot;
#&gt;      [,5]
#&gt; [1,] &quot;Species&quot;
#&gt; [2,] &quot;setosa&quot;
#&gt; [3,] &quot;setosa&quot;
#&gt; [4,] &quot;setosa&quot;
#&gt; [5,] &quot;setosa&quot;
#&gt; [6,] &quot;setosa&quot;
#&gt; [7,] &quot;setosa&quot;
#&gt;
#&gt; [[2]]
#&gt;      [,1]   [,2]            [,3]           [,4]            [,5]
#&gt; [1,] &quot;&quot;     &quot;Sepal.Length &quot; &quot;Sepal.Width &quot; &quot;Petal.Length &quot; &quot;Petal.Width &quot;
#&gt; [2,] &quot;145 &quot; &quot;6.7 &quot;          &quot;3.3 &quot;         &quot;5.7 &quot;          &quot;2.5 &quot;
#&gt; [3,] &quot;146 &quot; &quot;6.7 &quot;          &quot;3.0 &quot;         &quot;5.2 &quot;          &quot;2.3 &quot;
#&gt; [4,] &quot;147 &quot; &quot;6.3 &quot;          &quot;2.5 &quot;         &quot;5.0 &quot;          &quot;1.9 &quot;
#&gt; [5,] &quot;148 &quot; &quot;6.5 &quot;          &quot;3.0 &quot;         &quot;5.2 &quot;          &quot;2.0 &quot;
#&gt; [6,] &quot;149 &quot; &quot;6.2 &quot;          &quot;3.4 &quot;         &quot;5.4 &quot;          &quot;2.3 &quot;
#&gt; [7,] &quot;150 &quot; &quot;5.9 &quot;          &quot;3.0 &quot;         &quot;5.1 &quot;          &quot;1.8 &quot;
#&gt;      [,6]
#&gt; [1,] &quot;Species&quot;
#&gt; [2,] &quot;virginica&quot;
#&gt; [3,] &quot;virginica&quot;
#&gt; [4,] &quot;virginica&quot;
#&gt; [5,] &quot;virginica&quot;
#&gt; [6,] &quot;virginica&quot;
#&gt; [7,] &quot;virginica&quot;
</code></pre>

<h3 id="modifying-the-return-value">Modifying the Return Value</h3>

<p>By default, <code>extract_tables()</code> returns a list of character matrices. This is because many tables might be malformed or irregular and thus not be easily coerced to an R data.frame. This can easily be changed by specifying the <code>method</code> argument:</p>

<pre><code class="language-r"># attempt to coerce tables to data.frames
extract_tables(f, pages = 2, method = &quot;data.frame&quot;)
#&gt; [[1]]
#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
#&gt; 1          5.1         3.5          1.4         0.2  setosa
#&gt; 2          4.9         3.0          1.4         0.2  setosa
#&gt; 3          4.7         3.2          1.3         0.2  setosa
#&gt; 4          4.6         3.1          1.5         0.2  setosa
#&gt; 5          5.0         3.6          1.4         0.2  setosa
#&gt; 6          5.4         3.9          1.7         0.4  setosa
#&gt;
#&gt; [[2]]
#&gt;     X Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
#&gt; 1 145          6.7         3.3          5.7         2.5 virginica
#&gt; 2 146          6.7         3.0          5.2         2.3 virginica
#&gt; 3 147          6.3         2.5          5.0         1.9 virginica
#&gt; 4 148          6.5         3.0          5.2         2.0 virginica
#&gt; 5 149          6.2         3.4          5.4         2.3 virginica
#&gt; 6 150          5.9         3.0          5.1         1.8 virginica
</code></pre>

<p>Tabula itself implements three &ldquo;writer&rdquo; methods that write extracted tables to disk as CSV, TSV, or JSON files. These can be specified by <code>method = &quot;csv&quot;</code>, <code>method = &quot;tsv&quot;</code>, and <code>method = &quot;json&quot;</code>, respectively. For CSV and TSV, one file is written to disk for each table, in the same directory as the original file (or the temporary directory if the file is a remote PDF). For JSON, one file is written containing information about all tables. For these methods, <code>extract_tables()</code> returns a path to the directory containing the output files.</p>

<pre><code class="language-r"># extract tables to CSVs
extract_tables(f, method = &quot;csv&quot;)
#&gt; [1] &quot;/Library/Frameworks/R.framework/Versions/3.3/Resources/library/tabulizer/examples&quot;
</code></pre>

<p>If none of the standard methods works well, you can specify <code>method = &quot;asis&quot;</code> to return an rJava &ldquo;jobjRef&rdquo; object, which is a pointer to a Java ArrayList of Tabula Table objects. Working with that object might be quite awkward as it requires knowledge of Java and Tabula&rsquo;s internals, but might be useful to advanced users for debugging purposes.</p>

<h3 id="extracting-areas">Extracting Areas</h3>

<p>By default, tabulizer uses Tabula&rsquo;s table detection algorithms to automatically identify tables within each page of a PDF. This automatic detection can be toggled off by setting <code>guess = FALSE</code> and specifying an &ldquo;area&rdquo; within each PDF page to extract the table from. Here is a comparison of the default settings, versus extracting from two alternative areas within a page:</p>

<pre><code class="language-r">str(extract_tables(f, pages = 2, guess = TRUE, method = &quot;data.frame&quot;))
#&gt; List of 2
#&gt;  $ :'data.frame':	6 obs. of  5 variables:
#&gt;   ..$ Sepal.Length: num [1:6] 5.1 4.9 4.7 4.6 5 5.4
#&gt;   ..$ Sepal.Width : num [1:6] 3.5 3 3.2 3.1 3.6 3.9
#&gt;   ..$ Petal.Length: num [1:6] 1.4 1.4 1.3 1.5 1.4 1.7
#&gt;   ..$ Petal.Width : num [1:6] 0.2 0.2 0.2 0.2 0.2 0.4
#&gt;   ..$ Species     : chr [1:6] &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; ...
#&gt;  $ :'data.frame':	6 obs. of  6 variables:
#&gt;   ..$ X           : num [1:6] 145 146 147 148 149 150
#&gt;   ..$ Sepal.Length: num [1:6] 6.7 6.7 6.3 6.5 6.2 5.9
#&gt;   ..$ Sepal.Width : num [1:6] 3.3 3 2.5 3 3.4 3
#&gt;   ..$ Petal.Length: num [1:6] 5.7 5.2 5 5.2 5.4 5.1
#&gt;   ..$ Petal.Width : num [1:6] 2.5 2.3 1.9 2 2.3 1.8
#&gt;   ..$ Species     : chr [1:6] &quot;virginica&quot; &quot;virginica&quot; &quot;virginica&quot; &quot;virginica&quot; ...
str(extract_tables(f, pages = 2, area = list(c(126, 149, 212, 462)), guess = FALSE, method = &quot;data.frame&quot;))
#&gt; List of 1
#&gt;  $ :'data.frame':	6 obs. of  5 variables:
#&gt;   ..$ Sepal.Length: num [1:6] 5.1 4.9 4.7 4.6 5 5.4
#&gt;   ..$ Sepal.Width : num [1:6] 3.5 3 3.2 3.1 3.6 3.9
#&gt;   ..$ Petal.Length: num [1:6] 1.4 1.4 1.3 1.5 1.4 1.7
#&gt;   ..$ Petal.Width : num [1:6] 0.2 0.2 0.2 0.2 0.2 0.4
#&gt;   ..$ Species     : chr [1:6] &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; ...
str(extract_tables(f, pages = 2, area = list(c(126, 284, 174, 417)), guess = FALSE, method = &quot;data.frame&quot;))
#&gt; List of 1
#&gt;  $ :'data.frame':	3 obs. of  2 variables:
#&gt;   ..$ Petal.Length: num [1:3] 1.4 1.4 1.3
#&gt;   ..$ Petal.Width : num [1:3] 0.2 0.2 0.2
</code></pre>

<p>The <code>area</code> argument should be a list either of length 1 (to use the same area for each specified page) or equal to the number of pages specified. This also means that you can extract multiple areas from one page, but specifying the page twice and indicating the two areas separately:</p>

<pre><code class="language-r">a2 &lt;- list(c(126, 149, 212, 462), c(126, 284, 174, 417))
str(extract_tables(f, pages = c(2,2), area = a2, guess = FALSE, method = &quot;data.frame&quot;))
#&gt; List of 2
#&gt;  $ :'data.frame':	6 obs. of  5 variables:
#&gt;   ..$ Sepal.Length: num [1:6] 5.1 4.9 4.7 4.6 5 5.4
#&gt;   ..$ Sepal.Width : num [1:6] 3.5 3 3.2 3.1 3.6 3.9
#&gt;   ..$ Petal.Length: num [1:6] 1.4 1.4 1.3 1.5 1.4 1.7
#&gt;   ..$ Petal.Width : num [1:6] 0.2 0.2 0.2 0.2 0.2 0.4
#&gt;   ..$ Species     : chr [1:6] &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; ...
#&gt;  $ :'data.frame':	3 obs. of  2 variables:
#&gt;   ..$ Petal.Length: num [1:3] 1.4 1.4 1.3
#&gt;   ..$ Petal.Width : num [1:3] 0.2 0.2 0.2
</code></pre>

<h3 id="interactive-table-extraction">Interactive Table Extraction</h3>

<p>In addition to the programmatic extraction offered by <code>extract_tables()</code>, it is also possible to work interactively with PDFs via the <code>extract_areas()</code> function. This function triggers a process by which each (specified) page of a PDF is converted to a PNG image file and then loaded as an R graphic. From there, you can use your mouse to specify upper-left and lower-right bounds of an area on each page. Pages are cycled through automatically and, after selecting areas for each page, those areas are extracted auto-magically (and the return value is the same as for <code>extract_tables()</code>). Here&rsquo;s a shot of it in action:</p>

<p><a href="http://i.imgur.com/USTyQl7.gif"><img src="http://i.imgur.com/USTyQl7.gif" alt="extract_areas()" /></a></p>

<p><code>locate_areas()</code> handles the area identification process without performing the extraction, which may be useful as a debugger, or simply to define areas to be used in a programmatic extraction.</p>

<h3 id="miscellaneous-functionality">Miscellaneous Functionality</h3>

<p>Tabula is built on top of the <a href="https://pdfbox.apache.org/">Java PDFBox library</a>), which provides low-level functionality for working with PDFs. A few of these tools are exposed through tabulizer, as they might be useful for debugging or generally for working with PDFs. These functions include:</p>

<ul>
<li><code>extract_text()</code> converts the text of an entire file or specified pages into an R character vector.</li>
<li><code>split_pdf()</code> and <code>merge_pdfs()</code> split and merge PDF documents, respectively.</li>
<li><code>extract_metadata()</code> extracts PDF metadata as a list.</li>
<li><code>get_n_pages()</code> determines the number of pages in a document.</li>
<li><code>get_page_dims()</code> determines the width and height of each page in pt (the unit used by <code>area</code> and <code>columns</code> arguments).</li>
<li><code>make_thumbnails()</code> converts specified pages of a PDF file to image files.</li>
</ul>

<p><section id="citing"></p>

<h2 id="citing">Citing</h2>

<blockquote>
<p>Thomas J. Leeper (2016). tabulizer: Bindings for Tabula PDF Table Extractor Library. R package
  version 0.1.21. <a href="https://github.com/ropenscilabs/tabulizer">https://github.com/ropenscilabs/tabulizer</a></p>
</blockquote>

<p><section id="license_bugs"></p>

<h2 id="license-and-bugs">License and bugs</h2>

<ul>
<li>License: <a href="http://opensource.org/licenses/MIT">MIT</a></li>
<li>Report bugs at <a href="https://github.com/ropenscilabs/tabulizer/issues?state=open">our GitHub repo for tabulizer</a></li>
</ul>

<p><a href="#top">Back to top</a></p>

                    </article>
                </div>

                </div>
            </div>
        </div>
    </article>


    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>




    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    

    
    <script type="text/javascript" src="/js/highlight.pack.js"></script>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>



</body>
</html>
